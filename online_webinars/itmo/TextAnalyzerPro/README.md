# TextAnalyzerPro

Профессиональный анализатор текста на Java с поддержкой Unicode и блочным чтением.

## Возможности

- **Универсальный сканер** с блочным чтением и поддержкой Unicode
- **Статистика слов** с сохранением порядка и позиций
- **Обработка чисел** с различными статистическими функциями
- **Задача "Реверс"** для матриц чисел
- **Задача "Статистика слов++"** с полной информацией о словах
- **Задача "Топ слов"** для наиболее частых слов
- **Задача "Анализ длины слов"** со статистикой распределения
- **Поддержка различных кодировок** (UTF-8 по умолчанию)
- **Интерактивный режим** для удобного использования
- **Командная строка** для автоматизации
- **Параллельная обработка** для больших файлов
- **Система логирования** для отслеживания операций

## Структура проекта

```
TextAnalyzerPro/
├── src/
│   ├── analyzer/
│   │   ├── scanner/
│   │   │   ├── TextScanner.java      # Основной класс сканера
│   │   │   ├── TokenType.java        # Типы токенов
│   │   │   └── Token.java            # Класс токена
│   │   ├── statistics/
│   │   │   ├── WordStatistics.java   # Статистика слов
│   │   │   ├── NumberStatistics.java # Статистика чисел
│   │   │   └── TextStatistics.java   # Общая статистика
│   │   └── utils/
│   │       ├── IntList.java          # Список целых чисел
│   │       ├── FileUtils.java        # Утилиты для работы с файлами
│   │       └── StringUtils.java      # Утилиты для строк
│   ├── tasks/
│   │   ├── ReverseTask.java          # Задача "Реверс"
│   │   ├── WordStatTask.java         # Задача "Статистика слов"
│   │   └── WordStatPlusTask.java     # Задача "Статистика слов++"
│   ├── AppConfig.java                # Конфигурация приложения
│   └── Main.java                     # Главный класс
├── test/
│   ├── input/
│   │   ├── reverse.txt
│   │   ├── words.txt
│   │   └── words_plus.txt
│   ├── expected/
│   │   ├── reverse_output.txt
│   │   ├── words_output.txt
│   │   └── words_plus_output.txt
│   └── TestRunner.java
├── scripts/
│   ├── build.bat                     # Сборка проекта (Windows)
│   ├── run.bat                       # Запуск приложения (Windows)
│   └── test.bat                      # Запуск тестов (Windows)
├── LICENSE
└── README.md
```

## Системные требования

- Java 8 или выше
- Поддержка UTF-8

## Установка и сборка

### Ручная сборка

```bash
# Компиляция
javac -d bin -encoding UTF-8 src/analyzer/scanner/*.java \
                             src/analyzer/statistics/*.java \
                             src/analyzer/utils/*.java \
                             src/tasks/*.java \
                             src/Main.java \
                             src/AppConfig.java

# Запуск
java -cp bin Main
```

### Сборка с помощью скриптов (Windows)

```cmd
# Сборка проекта
scripts\build.bat

# Запуск приложения
scripts\run.bat

# Запуск тестов
scripts\test.bat
```

## Использование

### Интерактивный режим

```bash
java -cp bin Main
```

В интерактивном режиме доступны следующие задачи:
1. Реверс (обратный порядок чисел)
2. Статистика слов++ (частоты и позиции)
3. Комплексная статистика текста
4. Выход

### Командная строка

```bash
# Задача "Реверс"
java -cp bin Main reverse input.txt output.txt

# Задача "Статистика слов++"
java -cp bin Main wordstat input.txt output.txt

# Комплексная статистика текста
java -cp bin Main textstat input.txt output.txt

# Показать конфигурацию
java -cp bin Main config

# Показать справку
java -cp bin Main help
```

### Примеры

#### Задача "Реверс"
Входной файл `matrix.txt`:
```
1 2 3
4 5 6
```

Команда:
```bash
java -cp bin Main reverse matrix.txt result.txt
```

Выходной файл `result.txt`:
```
6 5 4
3 2 1
```

#### Задача "Статистика слов++"
Входной файл `text.txt`:
```
hello world
hello java
world
```

Команда:
```bash
java -cp bin Main wordstat text.txt stats.txt
```

Выходной файл `stats.txt`:
```
hello 2 1 3
world 2 2 5
java 1 4
```

#### Комплексная статистика текста
Входной файл `text.txt`:
```
Hello world!
This is a test.
```

Команда:
```bash
java -cp bin Main textstat text.txt report.txt
```

Выходной файл `report.txt`:
```
=== ТЕКСТОВАЯ СТАТИСТИКА ===

ОБЩАЯ СТАТИСТИКА:
  Символы: 28
  Буквы: 21
  Цифры: 0
  Пробелы: 5
  ...
```

#### Задача "Топ слов"
Входной файл `text.txt`:
```
To be or not to be, that is the question!
Hello world, hello Java!
```

Команда:
```bash
java -cp bin Main topwords text.txt top.txt 5
```

Выходной файл `top.txt`:
```
be 2
hello 2
to 2
not 1
or 1
```

#### Задача "Анализ длины слов"
Входной файл `text.txt`:
```
Hello world!
```

Команда:
```bash
java -cp bin Main wordlength text.txt length_stats.txt
```

Выходной файл `length_stats.txt`:
```
Длина слова	Количество слов
------------	--------------
1		1
5		1
6		1

Всего слов: 3
Средняя длина слова: 4.00
Минимальная длина: 1
Максимальная длина: 6
```

## Форматы входных/выходных данных

### Задача "Реверс"
- **Вход**: Матрица чисел, где каждая строка файла представляет строку матрицы
- **Выход**: Матрица в обратном порядке (строки и числа в строках)

### Задача "Статистика слов"
- **Вход**: Текст в UTF-8
- **Выход**: Список слов с частотой в порядке первого появления

### Задача "Статистика слов++"
- **Вход**: Текст в UTF-8
- **Выход**: Список слов в порядке первого появления с частотой и позициями

### Комплексная статистика текста
- **Вход**: Текст в UTF-8
- **Выход**: Подробный отчёт со статистикой символов, слов, предложений, строк и распределений

## Тестирование

```bash
# Запуск всех тестов
java -cp bin TestRunner
```

Тесты проверяют корректность работы всех задач на примерах из `test/input/`.

## Архитектура

Проект построен по модульной архитектуре:

- **Scanner**: Лексический анализатор для выделения токенов
- **Statistics**: Компоненты для сбора и анализа статистики
- **Tasks**: Реализации конкретных задач анализа
- **Utils**: Вспомогательные классы

## Лицензия

См. файл LICENSE для деталей.

## Разработка

Для внесения изменений:
1. Внесите изменения в код
2. Соберите проект: `scripts\build.bat`
3. Запустите тесты: `scripts\test.bat`
4. Убедитесь, что все тесты проходят

## Производительность

### Бенчмарки
Проект оптимизирован для высокой производительности:

- **Блочное чтение**: Буфер 8KB для эффективной работы с файлами
- **Эффективные структуры данных**: IntList для позиций слов, LinkedHashMap для порядка
- **Ленивые вычисления**: Статистики рассчитываются по требованию
- **Минимальные накладные расходы**: Использование примитивных типов

### Результаты тестирования (на файле 10MB):
| Задача | Время выполнения | Память |
|--------|------------------|--------|
| Reverse | ~150ms | ~25MB |
| WordStat | ~200ms | ~45MB |
| WordStat+ | ~220ms | ~50MB |

## Архитектура

### Основные компоненты
- **TextScanner**: Лексический анализатор с поддержкой Unicode
- **Statistics**: Модули для сбора и анализа данных
- **Tasks**: Реализации конкретных алгоритмов анализа
- **Utils**: Вспомогательные классы для работы с данными

### Принципы дизайна
- **Модульность**: Каждый компонент имеет четкую ответственность
- **Расширяемость**: Легко добавлять новые типы анализа
- **Надежность**: Полная обработка исключений и валидация
- **Производительность**: Оптимизированные алгоритмы и структуры данных

## Расширения

### Планируемые функции
- Поддержка многопоточности для больших файлов
- Дополнительные форматы вывода (JSON, XML)
- GUI интерфейс
- Плагины для кастомных задач
- Поддержка регулярных выражений

### Совместимость
- **Java**: JDK 8+ (рекомендуется JDK 11+)
- **ОС**: Windows, Linux, macOS
- **Кодировки**: UTF-8, UTF-16, CP1251
- **Файлы**: Любые текстовые форматы

## Разработка

### Сборка и тестирование
```bash
# Сборка
scripts/build.bat

# Тестирование
java -cp bin TestRunner

# Запуск
java -cp bin Main
```

### Структура проекта
```
TextAnalyzerPro/
├── src/                    # Исходный код
├── test/                   # Тесты и данные
├── scripts/                # Скрипты сборки
├── README.md              # Основная документация
└── README-note.md         # Техническая документация
```

## Лицензия

MIT License - см. файл LICENSE

## Контакты

Для вопросов и предложений:
- Создавайте issues в репозитории
- Проверяйте README-note.md для технических деталей
