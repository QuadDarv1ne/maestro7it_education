# 📚 Library Management System

**Профессиональное консольное приложение для управления библиотекой книг на C++.**

Реализация лабораторной работы №6 с расширенным функционалом, красивым интерфейсом и полной поддержкой кириллицы.

## ✨ Возможности

### 📖 Основной функционал

- **CRUD операции**: добавление, просмотр, изменение и удаление книг
- **Умная сортировка**: по названию, автору, году издания или жанру (стабильная пузырьковая сортировка)
- **Мощный поиск**: по названию, автору, жанру или ISBN с поддержкой частичного совпадения
- **Файловый менеджер**: сохранение и загрузка библиотеки в текстовом формате
- **Типизированные жанры**: использование enum class для типобезопасности

### 📊 Аналитика и статистика

- Поиск книг по комбинации автор + жанр
- Поиск самой старой книги после заданного года
- Определение самого популярного жанра с процентами
- Полная статистика по годам (мин, макс, среднее, медиана, диапазон)
- Поиск книг с экстремальной длиной названия
- Распределение библиотеки по жанрам
- Фильтр недавно изданных книг

### 🎨 UI/UX

- Красивый ASCII-интерфейс с рамками и эмодзи
- Цветовая индикация операций (✓, ✗, ⚠️)
- Интуитивная навигация по меню
- Защита от некорректного ввода
- Подсказки и справочная информация

## 🛠️ Технологии

- **Язык**: C++11
- **Стандартная библиотека**: STL (string, map, algorithm)
- **Ввод/вывод**: функции семейства printf/scanf
- **Управление памятью**: динамические массивы с автоматическим resize (×1.5)
- **Кодировка**: UTF-8 с автоматической настройкой для Windows

## 📁 Структура проекта

```
library-management-system/
├── book.h              # Структура Book и enum Genre
├── book.cpp            # Функции работы с жанрами
├── library.h           # Интерфейс класса Library
├── library.cpp         # Реализация библиотеки (900+ строк)
├── ui.h                # Интерфейс пользователя
├── ui.cpp              # Реализация UI с меню
├── main.cpp            # Точка входа + настройка локали
├── library_test.txt    # Тестовые данные (5 книг)
└── README.md           # Документация
```

## 🚀 Быстрый старт

### Требования

- Компилятор с поддержкой `C++11` (`GCC 4.8+`, `Clang 3.3+`, `MSVC 2013+`)
- `Windows/Linux/macOS`

### Компиляция

**Linux/macOS:**
```bash
g++ -o library main.cpp library.cpp ui.cpp book.cpp -std=c++11
chmod +x library
```

**Windows (MinGW):**
```bash
g++ -o library.exe main.cpp library.cpp ui.cpp book.cpp -std=c++11
```

**Windows (Visual Studio - MSVC):**
```bash
cl /EHsc /utf-8 /Fe:library.exe main.cpp library.cpp ui.cpp book.cpp
```

### Запуск

**Linux/macOS:**
```bash
./library
```

**Windows:**
```bash
library.exe
```

> **💡 Совет**: Для лучшего отображения Unicode-символов в Windows используйте Windows Terminal или настройте кодировку консоли.

## 📖 Использование

### Главное меню

```
╔═══════════════════════════════════════════════════╗
║                  ГЛАВНОЕ МЕНЮ                     ║
╠═══════════════════════════════════════════════════╣
║  1. 📋 Распечатать библиотеку                     ║
║  2. ➕ Добавить книгу                              ║
║  3. ➖ Удалить книгу                               ║
║  4. ✏️  Изменить информацию о книге                ║
║  5. 📊 Сортировка                                 ║
║  6. 🔍 Поиск книг                                 ║
║  7. 💾 Работа с файлами                           ║
║  8. ⚡ Специальные функции                        ║
║  0. 🚪 Выход из программы                         ║
╚═══════════════════════════════════════════════════╝
```

### Примеры работы

**1. Добавление книги:**
```
📖 Название книги: Автостопом по галактике
✍️  Автор: Дуглас Адамс
📅 Год издания: 1979
🎭 Выберите жанр: 5 (Фантастика)
🔢 ISBN: 978-5-17-123456-7
📝 Краткое описание: Комедийная научная фантастика о приключениях в космосе

✓ Книга "Автостопом по галактике" успешно добавлена!
```

**2. Поиск по автору:**
```
✍️  Введите автора: Булгаков

✓ Найдено:
  Название: Мастер и Маргарита
  Автор:    Михаил Булгаков
  Год:      1967
  Жанр:     Роман

✓ Найдено:
  Название: Собачье сердце
  Автор:    Михаил Булгаков
  Год:      1925
  Жанр:     Повесть
```

**3. Статистика:**
```
╔════════════════════════════════════════╗
║  СТАТИСТИКА ПО ГОДАМ ИЗДАНИЯ           ║
╚════════════════════════════════════════╝
  Минимальный год:         1833
  Максимальный год:        1967
  Диапазон:                134 лет
  Среднее (арифметическое): 1900.00
  Медиана:                 1866.00
```

## 🎯 Специальные функции

### 1. Комбинированный поиск
Поиск книг по автору И/ИЛИ жанру с гибкой логикой фильтрации.

### 2. Временной анализ
Поиск самой старой книги, изданной после указанного года.

### 3. Популярность жанров
Статистика распределения с процентами и визуализацией.

### 4. Статистика годов
Полный статистический анализ: минимум, максимум, среднее, медиана, диапазон.

### 5. Экстремальные названия
Поиск книг с самым длинным и самым коротким названием.

### 6. Группировка по жанрам
Вывод всех жанров с количеством книг и процентным соотношением.

### 7. Фильтр по дате
Показ книг, изданных за последние N лет.

## 💾 Формат файла

Данные сохраняются в простом текстовом формате UTF-8:

```
<количество книг>
<название 1>
<автор 1>
<год 1>
<жанр 1>
<ISBN 1>
<описание 1>
<название 2>
...
```

**Пример:**
```
2
Мастер и Маргарита
Михаил Булгаков
1967
Роман
978-5-17-982347-1
Философский роман о добре и зле...
```

## 🎨 Доступные жанры

1. Роман
2. Повесть
3. Роман-эпопея
4. Роман в стихах
5. Фантастика
6. Детектив
7. Драма
8. Комедия
9. Поэзия
10. Проза
11. Другое

## 🔒 Безопасность и качество кода

- ✅ Полная защита от переполнения буфера
- ✅ Валидация всех пользовательских вводов
- ✅ Обработка ошибок файлового ввода-вывода
- ✅ Отсутствие утечек памяти (RAII, правило деструктора)
- ✅ Типобезопасность через enum class
- ✅ Кроссплатформенная совместимость
- ✅ Подавление предупреждений MSVC через макросы

## 🧪 Тестирование

**В комплекте идет файл `library_test.txt` с 5 классическими произведениями русской литературы:**

- Мастер и Маргарита (Булгаков, 1967)
- Преступление и наказание (Достоевский, 1866)
- Война и мир (Толстой, 1869)
- Собачье сердце (Булгаков, 1925)
- Евгений Онегин (Пушкин, 1833)

Загрузите этот файл через меню "Работа с файлами" для быстрого старта.

## 🐛 Известные ограничения

- **Максимальная длина строки:** 1024 символа
- Описание обрезается до 60 символов при выводе в рамке
- Год издания должен быть в диапазоне 1000-2025 (предупреждение)

## 📝 Задания лабораторной работы

✅ **Выполнено:**

1. Динамический массив структур с resize ×1.5
2. CRUD операции (Create, Read, Update, Delete)
3. Стабильная пузырьковая сортировка по 4 полям
4. Поиск по 4 критериям
5. Сохранение/загрузка из файла через printf/scanf
6. Обработка всех ошибок ввода
7. Модульная декомпозиция (7 файлов)
8. Все 5 специальных заданий
9. Дополнительные улучшения (UI, типы, аналитика)

## 🤝 Автор

`Лабораторная работа №6` - Консольное приложение для управления библиотекой  
**Язык:** C++11  
**Парадигма:** ООП + процедурное программирование

## 📄 Лицензия

`Учебный проект` - свободное использование

---

**Примечание**: Проект оптимизирован для `Visual Studio` с полной поддержкой `MSVC` и автоматическим подавлением предупреждений `C4996`

**Версия**: 2.0 (улучшенная)  
**Дата**: Декабрь 2024