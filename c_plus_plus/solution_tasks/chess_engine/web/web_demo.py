#!/usr/bin/env python3
"""
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —à–∞—Ö–º–∞—Ç
"""

import webbrowser
import time
import os
import subprocess
import threading

def demonstrate_web_interface():
    print("=== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –í–ï–ë-–ò–ù–¢–ï–†–§–ï–ô–°–ê ===")
    print("–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–Ω–ª–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–≥—Ä—ã –≤ —à–∞—Ö–º–∞—Ç—ã\n")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤
    required_files = [
        "web/index.html",
        "web/chess_server.py"
    ]
    
    print("üîç –ü–†–û–í–ï–†–ö–ê –§–ê–ô–õ–û–í:")
    all_files_exist = True
    
    for file_path in required_files:
        if os.path.exists(file_path):
            print(f"‚úÖ {file_path}")
        else:
            print(f"‚ùå {file_path} - –§–ê–ô–õ –ù–ï –ù–ê–ô–î–ï–ù")
            all_files_exist = False
    
    if not all_files_exist:
        print("\n‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç!")
        return
    
    print("\nüéØ –û–°–û–ë–ï–ù–ù–û–°–¢–ò –í–ï–ë-–ò–ù–¢–ï–†–§–ï–ô–°–ê:")
    features = [
        " –†–µ—Å–ø–æ–Ω—Å–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤",
        " –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ",
        " –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —à–∞—Ö–º–∞—Ç–Ω—ã—Ö —Ñ–∏–≥—É—Ä",
        " –ò—Å—Ç–æ—Ä–∏—è —Ö–æ–¥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
        " –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã —Ö–æ–¥–æ–≤",
        " –ü–æ–≤–æ—Ä–æ—Ç –¥–æ—Å–∫–∏",
        " –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏",
        " –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –ò–ò",
        " –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI/UX –¥–∏–∑–∞–π–Ω"
    ]
    
    for feature in features:
        print(f"‚úÖ {feature}")
    
    print("\nüöÄ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò:")
    tech_specs = {
        "–§—Ä–æ–Ω—Ç–µ–Ω–¥": "HTML5, CSS3, JavaScript (Vanilla)",
        "–ë—ç–∫–µ–Ω–¥": "Python Flask",
        "–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å": "–í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã",
        "–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å": "–ú–æ–±–∏–ª—å–Ω—ã–µ –∏ –¥–µ—Å–∫—Ç–æ–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",
        "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": "–ë—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è",
        "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": "–ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"
    }
    
    for spec, value in tech_specs.items():
        print(f"üîπ {spec}: {value}")
    
    print("\nüéÆ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:")
    functionality = [
        "–í—ã–±–æ—Ä —Ñ–∏–≥—É—Ä –∫–ª–∏–∫–æ–º",
        "–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤",
        "–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —à–∞—Ö–º–∞—Ç",
        "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ö–æ–¥ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞",
        "–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–∞—Ä—Ç–∏–∏",
        "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã",
        "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"
    ]
    
    for func in functionality:
        print(f"üî∏ {func}")
    
    print("\nüåê –î–û–°–¢–£–ü –ö –ò–ù–¢–ï–†–§–ï–ô–°–£:")
    print("–õ–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: http://localhost:5000")
    print("–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ")
    
    print("\nüîß API –≠–ù–î–ü–û–ò–ù–¢–´:")
    api_endpoints = {
        "POST /api/new-game": "–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É",
        "POST /api/make-move": "–í—ã–ø–æ–ª–Ω–∏—Ç—å —Ö–æ–¥",
        "POST /api/undo-move": "–û—Ç–º–µ–Ω–∏—Ç—å —Ö–æ–¥",
        "GET /api/get-state": "–ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã",
        "POST /api/set-difficulty": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"
    }
    
    for endpoint, description in api_endpoints.items():
        print(f"üîπ {endpoint:<25} - {description}")
    
    print("\n" + "=" * 50)
    print("–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í–ï–ë-–°–ï–†–í–ï–†–ê:")
    
    try:
        # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
        print("–ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞...")
        server_process = subprocess.Popen(
            ["py", "-3.13", "web/chess_server.py"],
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            text=True
        )
        
        # –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
        time.sleep(3)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä
        if server_process.poll() is None:
            print("‚úÖ –í–µ–±-—Å–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
            print("‚úÖ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
            
            # –û—Ç–∫—Ä—ã–≤–∞–µ–º –±—Ä–∞—É–∑–µ—Ä
            print("\n–û—Ç–∫—Ä—ã—Ç–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ...")
            webbrowser.open("http://localhost:5000")
            
            print("\nüéÆ –í–ï–ë-–ò–ù–¢–ï–†–§–ï–ô–° –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!")
            print("üîπ –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000 –≤ –±—Ä–∞—É–∑–µ—Ä–µ")
            print("üîπ –ò–≥—Ä–∞–π—Ç–µ –≤ —à–∞—Ö–º–∞—Ç—ã –æ–Ω–ª–∞–π–Ω")
            print("üîπ –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º")
            
            # –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å
            time.sleep(5)
            
            # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä
            print("\n–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞...")
            server_process.terminate()
            server_process.wait(timeout=5)
            
        else:
            # –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
            stdout, stderr = server_process.communicate()
            print("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞:")
            if stderr:
                print(stderr)
            
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏: {e}")
    
    print("\n" + "=" * 50)
    print("üéâ –í–ï–ë-–ò–ù–¢–ï–†–§–ï–ô–° –£–°–ü–ï–®–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù!")
    print("üèÜ –£–†–û–í–ï–ù–¨: –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô")
    print("‚ö° –î–û–°–¢–£–ü–ù–û–°–¢–¨: –û–ù–õ–ê–ô–ù –ò–ì–†–ê")
    print("üéØ –ö–ê–ß–ï–°–¢–í–û: –í–´–°–û–ö–û–ï")

if __name__ == "__main__":
    try:
        demonstrate_web_interface()
        print("\n\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è...")
        input()
    except KeyboardInterrupt:
        print("\n\n–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
    except Exception as e:
        print(f"\n–û—à–∏–±–∫–∞: {e}")