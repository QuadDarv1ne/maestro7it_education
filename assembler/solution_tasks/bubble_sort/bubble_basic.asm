; ========================================================================
; Базовый алгоритм пузырьковой сортировки на ассемблере (x86)            ;
; Цель: Реализовать классическую пузырьковую сортировку без оптимизаций. ;
; Вход:                                                                  ;
;   - array: Массив байт (db) для сортировки.                            ;
;   - len: Длина массива.                                                ;
; Выход: Отсортированный массив (in-place).                              ;
; Особенности:                                                           ;
;   - Двойной вложенный цикл.                                            ;
;   - Флаг обмена для досрочного выхода.                                 ;
; Пример вызова: Запустить в DOS или Linux (с настройкой _start).        ;
; ========================================================================

section .data
    array db 5, 3, 8, 1, 2  ; Пример массива
    len equ $ - array

section .text
global _start

_start:
    mov ecx, len-1          ; Количество проходов
.outer_loop:
    mov edi, 0              ; Флаг обмена
    mov esi, 0              ; Индекс
.inner_loop:
    mov al, [array + esi]
    cmp al, [array + esi + 1]
    jbe .no_swap
    xchg al, [array + esi + 1]
    mov [array + esi], al
    mov edi, 1              ; Установить флаг обмена
.no_swap:
    inc esi
    cmp esi, ecx
    jb .inner_loop
    test edi, edi
    jz .exit
    loop .outer_loop
.exit:
    ; Завершение программы
    mov eax, 1
    int 0x80
