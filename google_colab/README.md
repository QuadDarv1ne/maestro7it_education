# NOAA APT Satellite Receiver

–ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –ø—Ä–∏—ë–º–∞ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–≥–æ–¥–Ω—ã—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤ **NOAA** (APT —Å–∏–≥–Ω–∞–ª).

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ó–∞—Ö–≤–∞—Ç —Å–∏–≥–Ω–∞–ª–∞** —Å RTL-SDR –ø—Ä–∏—ë–º–Ω–∏–∫–∞ (–∏–ª–∏ —Å–∏–º—É–ª—è—Ü–∏—è)
- **AM –¥–µ–º–æ–¥—É–ª—è—Ü–∏—è** —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º–∏ FIR-—Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —É—Å–∏–ª–µ–Ω–∏—è (AGC)**
- **–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ APT** –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (4160 –ø–∏–∫—Å–µ–ª–µ–π/—Å—Ç—Ä–æ–∫–∞)
- **–£–ª—É—á—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, CLAHE, –≥–∞–º–º–∞-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: —Å–ø–µ–∫—Ç—Ä, —Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–º–∞, IQ —Å–æ–∑–≤–µ–∑–¥–∏–µ
- **–†–∞—Å—á—ë—Ç –ø—Ä–æ—Ö–æ–¥–æ–≤ —Å–ø—É—Ç–Ω–∏–∫–æ–≤** (skyfield)
- **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –ø—Ä–æ—Ö–æ–¥–∞—Ö
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ YAML**

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd google_colab

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º RTL-SDR
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥—Ä–∞–π–≤–µ—Ä—ã RTL-SDR —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `numpy` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- `scipy` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- `matplotlib` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- `Pillow` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- `PyYAML` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `pyrtlsdr` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å RTL-SDR
- `skyfield` ‚Äî —Ä–∞—Å—á—ë—Ç –æ—Ä–±–∏—Ç —Å–ø—É—Ç–Ω–∏–∫–æ–≤
- `opencv-python` ‚Äî —É–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üîß –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞—Ö–≤–∞—Ç —Å–∏–≥–Ω–∞–ª–∞ (—Å–∏–º—É–ª—è—Ü–∏—è)

```bash
python -m noaa_receiver.main capture --duration 60
```

### 2. –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ IQ-—Ñ–∞–π–ª–∞

```bash
python -m noaa_receiver.main decode --iq output/iq_20240101_120000_137.620MHz.bin
```

### 3. –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª

```bash
python -m noaa_receiver.main full --duration 120
```

### 4. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–æ–≤

```bash
python -m noaa_receiver.main schedule --days 7 --min-elev 20
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```python
from noaa_receiver import NOAADecoder, RTLSDRInterface, SignalVisualizer

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
decoder = NOAADecoder()
sdr = RTLSDRInterface()

# –ó–∞—Ö–≤–∞—Ç (—Å–∏–º—É–ª—è—Ü–∏—è –±–µ–∑ RTL-SDR)
iq_data = sdr.capture(duration=60)

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
results = decoder.decode_full(iq_data)
image = results['image']

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
from PIL import Image
img = Image.fromarray(image, mode='L')
img.save('noaa_apt.png')
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
google_colab/
‚îú‚îÄ‚îÄ noaa_receiver/          # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ rtl_sdr.py          # RTL-SDR –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ decoder.py          # –î–µ–∫–æ–¥–µ—Ä APT
‚îÇ   ‚îú‚îÄ‚îÄ visualizer.py       # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ image_processor.py  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ satellite_tracker.py # –¢—Ä–µ–∫–µ—Ä —Å–ø—É—Ç–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ telegram_bot.py     # Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ main.py             # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ noaa_config.yaml        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ NOAA_Satellite_Reception.ipynb  # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –Ω–æ—É—Ç–±—É–∫
```

## üõ∞Ô∏è –ß–∞—Å—Ç–æ—Ç—ã —Å–ø—É—Ç–Ω–∏–∫–æ–≤

| –°–ø—É—Ç–Ω–∏–∫   | –ß–∞—Å—Ç–æ—Ç–∞ (MHz) |
|-----------|---------------|
| NOAA 15   | 137.6200      |
| NOAA 18   | 137.9125      |
| NOAA 19   | 137.1000      |
| METEOR-M 2| 137.1000      |

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `noaa_config.yaml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

- **sdr**: —á–∞—Å—Ç–æ—Ç–∞, —É—Å–∏–ª–µ–Ω–∏–µ, PPM –∫–æ—Ä—Ä–µ–∫—Ü–∏—è
- **scheduler**: –≤–∞—à–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–æ—Ö–æ–¥–æ–≤
- **telegram**: —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ chat_id –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **image**: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω
3. –£–∑–Ω–∞–π—Ç–µ chat_id —á–µ—Ä–µ–∑ [@userinfobot](https://t.me/userinfobot)
4. –û–±–Ω–æ–≤–∏—Ç–µ `noaa_config.yaml`:

```yaml
telegram:
  enabled: true
  bot_token: "1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"
  chat_id: "123456789"
```

## üß™ –ö–æ–º–∞–Ω–¥—ã CLI

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `capture` | –ó–∞—Ö–≤–∞—Ç —Å–∏–≥–Ω–∞–ª–∞ |
| `decode` | –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ IQ-—Ñ–∞–π–ª–∞ |
| `schedule` | –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–æ–≤ |
| `export` | –≠–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (text/json/ics) |
| `full` | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (–∑–∞—Ö–≤–∞—Ç + –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ) |
| `config` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π |

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ó–∞—Ö–≤–∞—Ç –Ω–∞ 10 –º–∏–Ω—É—Ç
python -m noaa_receiver.main capture -d 600

# –ó–∞—Ö–≤–∞—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —á–∞—Å—Ç–æ—Ç–µ
python -m noaa_receiver.main capture -f 137912500 -d 600

# –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —É–ª—É—á—à–µ–Ω–∏—è
python -m noaa_receiver.main decode --iq file.bin --no-enhance

# –≠–∫—Å–ø–æ—Ä—Ç –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
python -m noaa_receiver.main export -o schedule.ics --format ics

# –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥
python -m noaa_receiver.main config --show

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥–∞
python -m noaa_receiver.main config --init my_config.yaml
```

## üìä –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

–ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –ø–∞–π–ø–ª–∞–π–Ω–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è:

- `output/iq_*.bin` ‚Äî IQ-–¥–∞–Ω–Ω—ã–µ
- `output/noaa_apt_*.png` ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- `output/noaa_ch1_*.png` ‚Äî –∫–∞–Ω–∞–ª 1
- `output/noaa_ch2_*.png` ‚Äî –∫–∞–Ω–∞–ª 2
- `output/visualizations/*.png` ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏

## üî¨ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### APT —Å–∏–≥–Ω–∞–ª

- **–ú–æ–¥—É–ª—è—Ü–∏—è**: AM —Å –ø–æ–¥–Ω–µ—Å—É—â–µ–π 2400 –ì—Ü
- **–°–∫–æ—Ä–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**: 2 —Å—Ç—Ä–æ–∫–∏/—Å–µ–∫
- **–ü–∏–∫—Å–µ–ª–µ–π –≤ —Å—Ç—Ä–æ–∫–µ**: 4160
- **–ö–∞–Ω–∞–ª–æ–≤**: 2 (–≤–∏–¥–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω)

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

1. –î–µ–º–æ–¥—É–ª—è—Ü–∏—è IQ ‚Üí –æ–≥–∏–±–∞—é—â–∞—è
2. –î–µ—Ü–∏–º–∞—Ü–∏—è –¥–æ 20.8 kHz
3. –ü–æ–ª–æ—Å–æ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (2300-2500 –ì—Ü)
4. –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–≥–∏–±–∞—é—â–µ–π –ø–æ–¥–Ω–µ—Å—É—â–µ–π
5. –†–µ—Å–µ–º–ø–ª–∏–Ω–≥ –∫ —á–∞—Å—Ç–æ—Ç–µ –ø–∏–∫—Å–µ–ª–µ–π (8320 Hz)
6. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ √ó 4160)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "RTL-SDR device not found"

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã (zadig –¥–ª—è Windows)
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### "pyrtlsdr not found"

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `pip install pyrtlsdr`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `rtlsdr.dll` –≤ PATH (Windows)

### –ù–µ—Ç –ø—Ä–æ—Ö–æ–¥–æ–≤ —Å–ø—É—Ç–Ω–∏–∫–æ–≤

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –∫–æ–Ω—Ñ–∏–≥–µ
- –£–º–µ–Ω—å—à–∏—Ç–µ `min_elevation`
- –£–≤–µ–ª–∏—á—å—Ç–µ –ø–µ—Ä–∏–æ–¥ –ø—Ä–æ–≥–Ω–æ–∑–∞

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üîó –°—Å—ã–ª–∫–∏

- [NOAA APT Format](https://noaasis.noaa.gov/APS/apt.html)
- [RTL-SDR Wiki](https://www.rtl-sdr.com/)
- [Skyfield Documentation](https://rhodesmill.org/skyfield/)
