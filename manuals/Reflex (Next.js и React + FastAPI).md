# üêç –ü–æ–ª–Ω—ã–π –º–∞–Ω—É–∞–ª –ø–æ Reflex Framework: –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Python

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ –≤ Reflex](#–≤–≤–µ–¥–µ–Ω–∏–µ-–≤-reflex)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Reflex](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-reflex)
4. [–°–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å](#—Å–æ—Å—Ç–æ—è–Ω–∏—è-–∏-—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç–∏–ª–∏](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∏-—Å—Ç–∏–ª–∏)
6. [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è](#–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
7. [–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏](#—Ä–∞–±–æ—Ç–∞-—Å-–¥–∞–Ω–Ω—ã–º–∏)
8. [–°–æ–±—ã—Ç–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏](#—Å–æ–±—ã—Ç–∏—è-–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
9. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
10. [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

## –í–≤–µ–¥–µ–Ω–∏–µ –≤ Reflex

**Reflex** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Python. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤, –≥–¥–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, Reflex –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ Python.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Reflex:

‚úÖ **Python-first**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ Python (–±–µ–∑ JavaScript)
‚úÖ **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–±–µ–∑ XSS, CSRF –∏ —Ç.–¥.)
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ú–∏–Ω–∏–º—É–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –º–∞–∫—Å–∏–º—É–º –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –∏ production
‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Reflex?

**–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –ü—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –∏ MVP
- –î–∞—à–±–æ—Ä–¥–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–∞–Ω–µ–ª–µ–π
- CRUD –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ú–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

**–ù–µ –≤—Å–µ–≥–¥–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –°–ª–æ–∂–Ω—ã—Ö SPA —Å –±–æ–≥–∞—Ç—ã–º UX
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –ª–æ–≥–∏–∫–æ–π
- –ü—Ä–æ–µ–∫—Ç–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- –í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º (–ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- Python 3.7+
- pip (–ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä Python)
- Node.js –∏ npm (–¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Reflex
pip install reflex

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
reflex --version

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
reflex init my_app

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd my_app

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
reflex run
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
my_app/
‚îú‚îÄ‚îÄ .web/                    # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îú‚îÄ‚îÄ assets/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îî‚îÄ‚îÄ logo.svg
‚îú‚îÄ‚îÄ my_app/                 # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ my_app.py          # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ styles.py          # –°—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ rxconfig.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```python
# rxconfig.py
import reflex as rx

config = rx.Config(
    app_name="my_app",
    db_url="sqlite:///reflex.db",  # URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    env=rx.Env.DEV,               # –†–µ–∂–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏—è
    telemetry_enabled=True,       # –°–±–æ—Ä —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
    admin_dash=rx.AdminDash(      # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        models=[],
        view_class=rx.AdminDashConfig
    ),
)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (Windows)
venv\Scripts\activate

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è (macOS/Linux)
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install reflex

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
pip install pandas numpy requests
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Reflex

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

#### 1. App (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):
```python
# my_app/my_app.py
import reflex as rx

class State(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."""
    pass

def index() -> rx.Component:
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞."""
    return rx.text("Hello Reflex!")

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
app = rx.App()
app.add_page(index)
```

#### 2. State (–°–æ—Å—Ç–æ—è–Ω–∏–µ):
```python
import reflex as rx
import requests

class State(rx.State):
    """–û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."""
    
    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    text: str = "Hello"
    count: int = 0
    user_input: str = ""
    items: list = []
    
    # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    loading: bool = False
    api_data: list = []
    
    def increment(self):
        """–£–≤–µ–ª–∏—á–∏—Ç—å —Å—á–µ—Ç—á–∏–∫."""
        self.count += 1
    
    def decrement(self):
        """–£–º–µ–Ω—å—à–∏—Ç—å —Å—á–µ—Ç—á–∏–∫."""
        self.count -= 1
    
    def add_item(self):
        """–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç."""
        if self.user_input:
            self.items.append(self.user_input)
            self.user_input = ""
    
    def clear_items(self):
        """–û—á–∏—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫."""
        self.items = []
    
    async def fetch_data(self):
        """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."""
        self.loading = True
        try:
            # –°–∏–º—É–ª—è—Ü–∏—è API –≤—ã–∑–æ–≤–∞
            import asyncio
            await asyncio.sleep(1)  # –ó–∞–¥–µ—Ä–∂–∫–∞
            self.api_data = ["Item 1", "Item 2", "Item 3"]
        finally:
            self.loading = False
```

#### 3. Components (–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã):
```python
import reflex as rx
from . import style
from .state import State

def index() -> rx.Component:
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞."""
    return rx.container(
        rx.vstack(
            rx.heading("My Reflex App", size="2xl"),
            rx.text("Count: ", State.count),
            rx.hstack(
                rx.button("Increment", on_click=State.increment),
                rx.button("Decrement", on_click=State.decrement),
            ),
            rx.input(
                placeholder="Enter item...",
                value=State.user_input,
                on_change=State.set_user_input
            ),
            rx.button("Add Item", on_click=State.add_item),
            rx.button("Clear Items", on_click=State.clear_items),
            rx.foreach(
                State.items,
                lambda item: rx.badge(item, variant="outline")
            ),
            spacing="1.5em",
            padding="2em",
            align="center",
        ),
        bg=style.bg_dark_color,
        min_height="100vh",
    )
```

### –°—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```python
# my_app/styles.py
import reflex as rx

# –¶–≤–µ—Ç–∞
border_radius = "0.375rem"
border = f"1px solid {rx.color.alpha('gray', 6)}"
text_color = rx.color("gray", 12)
bg_color = rx.color("gray", 1)
bg_dark_color = rx.color("gray", 2)
accent_color = rx.color("accent", 10)
border_color = rx.color("gray", 5)

# –°—Ç–∏–ª–∏
template_row_gap = "1em"
template_column_gap = "1em"
template_pad = "2em"

# –°—Ç–∏–ª—å –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏
card = {
    "bg": bg_color,
    "padding": "1em",
    "border_radius": border_radius,
    "border": border,
}

# –°—Ç–∏–ª—å –¥–ª—è –∫–Ω–æ–ø–∫–∏
button_style = {
    "border_radius": border_radius,
    "bg": accent_color,
    "color": "white",
    "_hover": {
        "bg": rx.color("accent", 8),
    },
}
```

## –°–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```python
import reflex as rx

class CounterState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞."""
    count: int = 0
    
    def increment(self):
        self.count += 1
    
    def decrement(self):
        self.count -= 1
    
    def reset(self):
        self.count = 0

# –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
class FormState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã."""
    name: str = ""
    email: str = ""
    age: int = 0
    errors: dict = {}
    
    def set_name(self, name: str):
        self.name = name
        # –í–∞–ª–∏–¥–∞—Ü–∏—è
        if len(name) < 2:
            self.errors["name"] = "Name must be at least 2 characters"
        else:
            self.errors.pop("name", None)
    
    def set_email(self, email: str):
        self.email = email
        # –ü—Ä–æ—Å—Ç–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è email
        if "@" not in email:
            self.errors["email"] = "Invalid email format"
        else:
            self.errors.pop("email", None)
    
    def set_age(self, age: str):
        try:
            self.age = int(age)
            if self.age < 0 or self.age > 120:
                self.errors["age"] = "Age must be between 0 and 120"
            else:
                self.errors.pop("age", None)
        except ValueError:
            self.errors["age"] = "Age must be a number"
    
    def submit_form(self):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã."""
        if not self.errors:
            # –ó–¥–µ—Å—å –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
            print(f"Form submitted: {self.name}, {self.email}, {self.age}")
            # –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
            self.name = ""
            self.email = ""
            self.age = 0
```

### –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:

```python
import reflex as rx

class CalculatorState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞."""
    num1: float = 0
    num2: float = 0
    operation: str = "+"
    
    @rx.var
    def result(self) -> float:
        """–í—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞."""
        if self.operation == "+":
            return self.num1 + self.num2
        elif self.operation == "-":
            return self.num1 - self.num2
        elif self.operation == "*":
            return self.num1 * self.num2
        elif self.operation == "/":
            if self.num2 != 0:
                return self.num1 / self.num2
            else:
                return float('inf')  # –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ –Ω–∞ 0
        else:
            return 0
    
    @rx.var
    def is_positive(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º."""
        return self.result > 0
    
    @rx.var
    def calculation_string(self) -> str:
        """–°—Ç—Ä–æ–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è."""
        return f"{self.num1} {self.operation} {self.num2} = {self.result}"

class TodoState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–¥–∞—á."""
    todos: list = []
    new_todo: str = ""
    
    @rx.var
    def completed_count(self) -> int:
        """–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á."""
        return len([todo for todo in self.todos if todo.get('completed', False)])
    
    @rx.var
    def pending_count(self) -> int:
        """–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á."""
        return len([todo for todo in self.todos if not todo.get('completed', False)])
    
    @rx.var
    def total_count(self) -> int:
        """–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á."""
        return len(self.todos)
    
    def add_todo(self):
        """–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É."""
        if self.new_todo.strip():
            self.todos.append({
                'text': self.new_todo.strip(),
                'completed': False,
                'id': len(self.todos)
            })
            self.new_todo = ""
    
    def toggle_todo(self, todo_id: int):
        """–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏."""
        for todo in self.todos:
            if todo['id'] == todo_id:
                todo['completed'] = not todo['completed']
                break
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```python
import reflex as rx
import asyncio
import aiohttp

class AsyncState(rx.State):
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ."""
    loading: bool = False
    data: list = []
    error: str = ""
    
    async def fetch_data(self):
        """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö."""
        self.loading = True
        self.error = ""
        
        try:
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º asyncio –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ API –≤—ã–∑–æ–≤–∞
            await asyncio.sleep(2)  # –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
            
            # –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ API
            self.data = [
                {"id": 1, "name": "Item 1", "value": 100},
                {"id": 2, "name": "Item 2", "value": 200},
                {"id": 3, "name": "Item 3", "value": 300},
            ]
        except Exception as e:
            self.error = str(e)
        finally:
            self.loading = False
    
    async def fetch_from_api(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API."""
        self.loading = True
        try:
            async with aiohttp.ClientSession() as session:
                async with session.get('https://jsonplaceholder.typicode.com/posts?_limit=5') as response:
                    self.data = await response.json()
        except Exception as e:
            self.error = f"API Error: {str(e)}"
        finally:
            self.loading = False

class FileUploadState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤."""
    file_data: str = ""
    file_name: str = ""
    uploading: bool = False
    
    async def handle_upload(self, files: list[rx.UploadFile]):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤."""
        for file in files:
            self.uploading = True
            try:
                upload_data = await file.read()
                self.file_data = upload_data.decode("utf-8")
                self.file_name = file.filename
            except Exception as e:
                self.file_data = f"Error reading file: {str(e)}"
            finally:
                self.uploading = False
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç–∏–ª–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```python
import reflex as rx
from .styles import *

def header_component(title: str) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞."""
    return rx.box(
        rx.heading(title, size="lg"),
        padding="1em",
        bg=accent_color,
        color="white",
        border_radius=border_radius,
    )

def button_component(text: str, on_click, variant: str = "solid") -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏."""
    return rx.button(
        text,
        on_click=on_click,
        variant=variant,
        style=button_style
    )

def input_component(placeholder: str, value, on_change) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–≤–æ–¥–∞."""
    return rx.input(
        placeholder=placeholder,
        value=value,
        on_change=on_change,
        border=border,
        border_radius=border_radius,
        padding="0.5em",
    )

def card_component(content: rx.Component) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏."""
    return rx.card(
        content,
        style=card
    )

def list_component(items: list) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞."""
    return rx.vstack(
        rx.foreach(
            items,
            lambda item: rx.list_item(
                rx.text(item),
                padding="0.5em",
                border_bottom=border
            )
        ),
        spacing="0"
    )
```

### –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```python
import reflex as rx
from .state import TodoState

def todo_list() -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á."""
    return rx.card(
        rx.vstack(
            # –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            rx.hstack(
                rx.input(
                    placeholder="Add a new task...",
                    value=TodoState.new_todo,
                    on_change=TodoState.set_new_todo,
                    flex="1"
                ),
                rx.button(
                    "Add",
                    on_click=TodoState.add_todo,
                    bg="green",
                    color="white"
                ),
                width="100%"
            ),
            
            # –°—á–µ—Ç—á–∏–∫–∏
            rx.hstack(
                rx.badge(f"Total: {TodoState.total_count}", variant="outline"),
                rx.badge(f"Pending: {TodoState.pending_count}", variant="outline"),
                rx.badge(f"Completed: {TodoState.completed_count}", variant="outline"),
                padding="1em 0"
            ),
            
            # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
            rx.vstack(
                rx.foreach(
                    TodoState.todos,
                    lambda todo: todo_item(todo)
                ),
                spacing="0.5em",
                width="100%"
            ),
            
            spacing="1em",
            width="100%"
        ),
        padding="1.5em",
        width="100%",
        max_width="600px"
    )

def todo_item(todo) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∏."""
    return rx.hstack(
        rx.checkbox(
            checked=todo["completed"],
            on_change=lambda checked: TodoState.toggle_todo(todo["id"])
        ),
        rx.text(
            todo["text"],
            text_decoration="line-through" if todo["completed"] else "none",
            color="gray" if todo["completed"] else "inherit"
        ),
        rx.button(
            "Delete",
            size="sm",
            variant="outline",
            color_scheme="red"
        ),
        width="100%",
        padding="0.5em",
        border=border,
        border_radius=border_radius
    )

def data_table(data: list) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö."""
    if not data:
        return rx.text("No data available")
    
    headers = list(data[0].keys()) if data else []
    
    return rx.table.root(
        rx.table.header(
            rx.table.row(
                *[rx.table.column_header_cell(header) for header in headers]
            )
        ),
        rx.table.body(
            rx.foreach(
                data,
                lambda row: rx.table.row(
                    *[rx.table.cell(row[key]) for key in headers]
                )
            )
        ),
        variant="striped",
        size="md"
    )
```

### –°—Ç–∏–ª–∏ –∏ —Ç–µ–º–∏–∑–∞—Ü–∏—è:

```python
import reflex as rx

# –¢–µ–º—ã
class ThemeState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–º—ã."""
    dark_mode: bool = False
    
    def toggle_theme(self):
        self.dark_mode = not self.dark_mode

def theme_switch() -> rx.Component:
    """–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã."""
    return rx.cond(
        ThemeState.dark_mode,
        rx.icon_button(
            rx.icon("sun", size=24),
            on_click=ThemeState.toggle_theme,
            variant="ghost"
        ),
        rx.icon_button(
            rx.icon("moon", size=24),
            on_click=ThemeState.toggle_theme,
            variant="ghost"
        )
    )

# –°—Ç–∏–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
def conditional_styled_component() -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —É—Å–ª–æ–≤–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏."""
    return rx.cond(
        ThemeState.dark_mode,
        rx.box(
            rx.text("Dark mode content"),
            bg="gray.800",
            color="white",
            padding="1em",
            border_radius="md"
        ),
        rx.box(
            rx.text("Light mode content"),
            bg="gray.100",
            color="black",
            padding="1em",
            border_radius="md"
        )
    )

# –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
def responsive_component() -> rx.Component:
    """–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç."""
    return rx.vstack(
        rx.heading("Responsive Design", size="lg"),
        rx.text("This layout adapts to different screen sizes"),
        rx.grid(
            rx.box("Item 1", padding="1em", bg="blue.100"),
            rx.box("Item 2", padding="1em", bg="green.100"),
            rx.box("Item 3", padding="1em", bg="purple.100"),
            rx.box("Item 4", padding="1em", bg="orange.100"),
            columns=[1, 2, 3, 4],  # [mobile, tablet, laptop, desktop]
            gap="1em",
            width="100%"
        ),
        spacing="1.5em",
        padding="2em"
    )
```

## –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

### –ë–∞–∑–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:

```python
import reflex as rx
from . import styles
from .states.main_state import MainState
from .pages import index, about, contact, dashboard

class AppState(rx.State):
    """–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è."""
    pass

def sidebar() -> rx.Component:
    """–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏."""
    return rx.drawer(
        rx.drawer_overlay(
            rx.drawer_content(
                rx.vstack(
                    rx.heading("Menu", size="lg"),
                    rx.divider(),
                    nav_link("Home", "/"),
                    nav_link("About", "/about"),
                    nav_link("Contact", "/contact"),
                    nav_link("Dashboard", "/dashboard"),
                    padding="2em",
                    height="100vh",
                    bg=styles.bg_color
                )
            )
        ),
        placement="left"
    )

def nav_link(text: str, href: str) -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏."""
    return rx.link(
        rx.button(
            text,
            variant="ghost",
            width="100%",
            justify="start"
        ),
        href=href,
        text_decoration="none",
        width="100%"
    )

def navbar() -> rx.Component:
    """–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å."""
    return rx.hstack(
        rx.heading("My App", size="lg"),
        rx.spacer(),
        rx.desktop_only(
            rx.hstack(
                nav_link("Home", "/"),
                nav_link("About", "/about"),
                nav_link("Contact", "/contact"),
                nav_link("Dashboard", "/dashboard"),
            )
        ),
        rx.mobile_and_tablet(
            rx.menu(
                rx.menu_button(
                    rx.icon("menu", size=32)
                ),
                rx.menu_list(
                    nav_link("Home", "/"),
                    nav_link("About", "/about"),
                    nav_link("Contact", "/contact"),
                    nav_link("Dashboard", "/dashboard"),
                )
            )
        ),
        padding_x="2em",
        padding_y="1em",
        bg=styles.accent_color,
        color="white",
        width="100%"
    )

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü
def index_page() -> rx.Component:
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞."""
    return rx.vstack(
        navbar(),
        rx.container(
            rx.heading("Welcome to Reflex!", size="2xl"),
            rx.text("Build web apps with Python"),
            rx.button(
                "Get Started",
                on_click=lambda: rx.redirect("/about"),
                bg="blue.500",
                color="white"
            ),
            padding_y="6em",
            align="center",
            spacing="1.5em"
        ),
        width="100%",
        spacing="0"
    )

def about_page() -> rx.Component:
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ –Ω–∞—Å."""
    return rx.vstack(
        navbar(),
        rx.container(
            rx.heading("About Us", size="2xl"),
            rx.text("Learn more about our company and mission."),
            rx.button(
                "Back to Home",
                on_click=lambda: rx.redirect("/"),
                variant="outline"
            ),
            padding_y="6em",
            align="center",
            spacing="1.5em"
        ),
        width="100%",
        spacing="0"
    )

def contact_page() -> rx.Component:
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤."""
    return rx.vstack(
        navbar(),
        rx.container(
            rx.heading("Contact Us", size="2xl"),
            rx.text("Get in touch with our team."),
            rx.form(
                rx.vstack(
                    rx.input(placeholder="Your Name", name="name"),
                    rx.text_area(placeholder="Your Message", name="message"),
                    rx.button("Send Message", type_="submit"),
                    spacing="1em"
                )
            ),
            padding_y="6em",
            align="center",
            spacing="1.5em"
        ),
        width="100%",
        spacing="0"
    )
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:

```python
import reflex as rx
from typing import Dict

class UserProfileState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    user_id: str = ""
    user_data: Dict = {}
    loading: bool = False
    
    def set_user_id(self, user_id: str):
        """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ URL."""
        self.user_id = user_id
        self.load_user_data()
    
    def load_user_data(self):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        self.loading = True
        # –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        import asyncio
        asyncio.create_task(self._async_load())
    
    async def _async_load(self):
        """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö."""
        await asyncio.sleep(1)  # –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
        self.user_data = {
            "id": self.user_id,
            "name": f"User {self.user_id}",
            "email": f"user{self.user_id}@example.com",
            "join_date": "2023-01-01"
        }
        self.loading = False

def user_profile_page(user_id: str) -> rx.Component:
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ user_id –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞
    UserProfileState.set_user_id(user_id)
    
    return rx.vstack(
        navbar(),
        rx.container(
            rx.cond(
                UserProfileState.loading,
                rx.spinner(size="lg"),
                rx.vstack(
                    rx.heading(f"Profile: {UserProfileState.user_data['name']}", size="xl"),
                    rx.card(
                        rx.vstack(
                            rx.text(f"ID: {UserProfileState.user_data['id']}"),
                            rx.text(f"Email: {UserProfileState.user_data['email']}"),
                            rx.text(f"Joined: {UserProfileState.user_data['join_date']}"),
                            spacing="0.5em"
                        ),
                        padding="1.5em"
                    ),
                    rx.button(
                        "Back to Users",
                        on_click=lambda: rx.redirect("/users"),
                        variant="outline"
                    ),
                    spacing="1.5em",
                    align="center"
                )
            ),
            padding_y="4em",
            max_width="600px"
        ),
        width="100%",
        spacing="0"
    )

class UsersState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""
    users: list = [
        {"id": "1", "name": "Alice Johnson", "email": "alice@example.com"},
        {"id": "2", "name": "Bob Smith", "email": "bob@example.com"},
        {"id": "3", "name": "Carol Davis", "email": "carol@example.com"},
    ]
    
    def view_user(self, user_id: str):
        """–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        return rx.redirect(f"/user/{user_id}")

def users_list_page() -> rx.Component:
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""
    return rx.vstack(
        navbar(),
        rx.container(
            rx.vstack(
                rx.heading("Users", size="2xl"),
                rx.table.root(
                    rx.table.header(
                        rx.table.row(
                            rx.table.column_header_cell("ID"),
                            rx.table.column_header_cell("Name"),
                            rx.table.column_header_cell("Email"),
                            rx.table.column_header_cell("Actions")
                        )
                    ),
                    rx.table.body(
                        rx.foreach(
                            UsersState.users,
                            lambda user: rx.table.row(
                                rx.table.cell(user["id"]),
                                rx.table.cell(user["name"]),
                                rx.table.cell(user["email"]),
                                rx.table.cell(
                                    rx.button(
                                        "View",
                                        on_click=lambda: UsersState.view_user(user["id"]),
                                        size="sm"
                                    )
                                )
                            )
                        )
                    ),
                    variant="striped",
                    width="100%"
                ),
                spacing="1.5em",
                align="stretch"
            ),
            padding_y="4em",
            max_width="800px"
        ),
        width="100%",
        spacing="0"
    )
```

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```python
import reflex as rx
from urllib.parse import urlparse, parse_qs

class ProductState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞."""
    product_id: str = ""
    category: str = ""
    sort_by: str = "name"
    page: int = 1
    products: list = []
    
    def on_load(self, router_data: dict):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ä—à—Ä—É—Ç–∞."""
        self.product_id = router_data.get("pathname", "").split("/")[-1]
        query_params = router_data.get("query", {})
        self.category = query_params.get("category", "")
        self.sort_by = query_params.get("sort", "name")
        self.page = int(query_params.get("page", 1))
        self.load_products()
    
    def load_products(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤."""
        # –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        self.products = [
            {"id": f"prod-{i}", "name": f"Product {i}", "price": i * 10, "category": "electronics"}
            for i in range(1, 11)
        ]

def product_detail_page(product_id: str) -> rx.Component:
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ–¥—É–∫—Ç–∞."""
    return rx.vstack(
        navbar(),
        rx.container(
            rx.vstack(
                rx.heading(f"Product: {product_id}", size="2xl"),
                # –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ–¥—É–∫—Ç–∞
                rx.button(
                    "Back to Products",
                    on_click=lambda: rx.redirect("/products"),
                    variant="outline"
                ),
                spacing="1.5em",
                align="center"
            ),
            padding_y="4em",
            max_width="800px"
        ),
        width="100%",
        spacing="0"
    )

def products_page() -> rx.Component:
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤."""
    return rx.vstack(
        navbar(),
        rx.container(
            rx.vstack(
                rx.heading("Products", size="2xl"),
                
                # –§–∏–ª—å—Ç—Ä—ã
                rx.hstack(
                    rx.select(
                        ["electronics", "clothing", "books"],
                        placeholder="Category",
                        on_change=lambda value: rx.redirect(f"/products?category={value}")
                    ),
                    rx.select(
                        ["name", "price", "date"],
                        placeholder="Sort by",
                        on_change=lambda value: rx.redirect(f"/products?sort={value}")
                    ),
                    rx.input(
                        placeholder="Search...",
                        on_change=lambda value: rx.redirect(f"/products?q={value}")
                    ),
                    width="100%",
                    spacing="1em"
                ),
                
                # –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
                rx.responsive_grid(
                    rx.foreach(
                        ProductState.products,
                        lambda product: product_card(product)
                    ),
                    columns=[1, 2, 3, 4],
                    gap="1em",
                    width="100%"
                ),
                
                # –ü–∞–≥–∏–Ω–∞—Ü–∏—è
                rx.hstack(
                    rx.button("Previous", disabled=ProductState.page <= 1),
                    rx.text(f"Page {ProductState.page}"),
                    rx.button("Next", disabled=ProductState.page >= 10),
                    spacing="1em"
                ),
                
                spacing="1.5em",
                align="stretch"
            ),
            padding_y="4em",
            max_width="1200px"
        ),
        width="100%",
        spacing="0"
    )

def product_card(product) -> rx.Component:
    """–ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞."""
    return rx.card(
        rx.vstack(
            rx.heading(product["name"], size="md"),
            rx.text(f"${product['price']}", font_size="lg", font_weight="bold"),
            rx.text(f"Category: {product['category']}"),
            rx.button(
                "View Details",
                on_click=lambda: rx.redirect(f"/product/{product['id']}"),
                width="100%"
            ),
            spacing="0.5em",
            align="stretch"
        ),
        padding="1.5em"
    )
```

## –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:

```python
import reflex as rx
import json
import os
from typing import List, Dict, Any

class LocalStorageState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º."""
    # –î–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏
    items: List[Dict[str, Any]] = []
    
    def add_item(self, item_data: Dict[str, Any]):
        """–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ."""
        self.items.append(item_data)
        self.save_to_file()
    
    def remove_item(self, item_id: str):
        """–£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞."""
        self.items = [item for item in self.items if item.get('id') != item_id]
        self.save_to_file()
    
    def update_item(self, item_id: str, new_data: Dict[str, Any]):
        """–û–±–Ω–æ–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ."""
        for i, item in enumerate(self.items):
            if item.get('id') == item_id:
                self.items[i].update(new_data)
                break
        self.save_to_file()
    
    def save_to_file(self):
        """–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª."""
        try:
            with open('local_data.json', 'w') as f:
                json.dump(self.items, f)
        except Exception as e:
            print(f"Error saving data: {e}")
    
    def load_from_file(self):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞."""
        try:
            if os.path.exists('local_data.json'):
                with open('local_data.json', 'r') as f:
                    self.items = json.load(f)
        except Exception as e:
            print(f"Error loading data: {e}")
            self.items = []

class SessionStorageState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º."""
    # –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    user_preferences: Dict[str, Any] = {}
    recent_searches: List[str] = []
    
    def set_preference(self, key: str, value: Any):
        """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É."""
        self.user_preferences[key] = value
    
    def add_search_history(self, search_term: str):
        """–î–æ–±–∞–≤–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∏—Å–∫–∞."""
        if search_term not in self.recent_searches:
            self.recent_searches.insert(0, search_term)
            # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 10 –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –ø–æ–∏—Å–∫–∞–º–∏
            if len(self.recent_searches) > 10:
                self.recent_searches = self.recent_searches[:10]
```

### –†–∞–±–æ—Ç–∞ —Å API:

```python
import reflex as rx
import httpx
from typing import List, Dict, Any, Optional

class APIState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API."""
    loading: bool = False
    error: str = ""
    api_token: str = ""
    
    async def make_api_request(
        self, 
        method: str, 
        endpoint: str, 
        data: Optional[Dict] = None,
        params: Optional[Dict] = None
    ) -> Optional[Dict]:
        """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤."""
        self.loading = True
        self.error = ""
        
        try:
            headers = {"Authorization": f"Bearer {self.api_token}"} if self.api_token else {}
            
            async with httpx.AsyncClient(timeout=30.0) as client:
                response = await client.request(
                    method=method.upper(),
                    url=f"https://api.example.com{endpoint}",
                    json=data,
                    params=params,
                    headers=headers
                )
                
                response.raise_for_status()
                return response.json()
                
        except httpx.RequestError as exc:
            self.error = f"Request error: {str(exc)}"
        except httpx.HTTPStatusError as exc:
            self.error = f"HTTP error {exc.response.status_code}: {exc.response.text}"
        except Exception as exc:
            self.error = f"Unexpected error: {str(exc)}"
        finally:
            self.loading = False
        
        return None

class UserService(APIState):
    """–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ API."""
    users: List[Dict] = []
    current_user: Optional[Dict] = None
    
    async def fetch_users(self):
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""
        data = await self.make_api_request("GET", "/users")
        if data:
            self.users = data.get("users", [])
        return self.users
    
    async def fetch_user(self, user_id: str):
        """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        data = await self.make_api_request("GET", f"/users/{user_id}")
        if data:
            self.current_user = data
        return self.current_user
    
    async def create_user(self, user_data: Dict[str, Any]):
        """–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        data = await self.make_api_request("POST", "/users", data=user_data)
        if data:
            self.users.append(data)
        return data
    
    async def update_user(self, user_id: str, user_data: Dict[str, Any]):
        """–û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        data = await self.make_api_request("PUT", f"/users/{user_id}", data=user_data)
        if data:
            # –û–±–Ω–æ–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–∫–µ
            for i, user in enumerate(self.users):
                if user.get("id") == user_id:
                    self.users[i] = data
                    break
        return data
    
    async def delete_user(self, user_id: str):
        """–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        await self.make_api_request("DELETE", f"/users/{user_id}")
        self.users = [user for user in self.users if user.get("id") != user_id]

class DataManager(rx.State):
    """–ú–µ–Ω–µ–¥–∂–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π."""
    raw_data: List[Dict] = []
    filtered_data: List[Dict] = []
    search_term: str = ""
    sort_field: str = ""
    sort_direction: str = "asc"  # "asc" or "desc"
    
    def load_data(self, data_source: List[Dict]):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞."""
        self.raw_data = data_source
        self.apply_filters()
    
    def set_search_term(self, term: str):
        """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å."""
        self.search_term = term.lower()
        self.apply_filters()
    
    def set_sort(self, field: str, direction: str = "toggle"):
        """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É."""
        if direction == "toggle":
            if self.sort_field == field:
                self.sort_direction = "desc" if self.sort_direction == "asc" else "asc"
            else:
                self.sort_field = field
                self.sort_direction = "asc"
        else:
            self.sort_field = field
            self.sort_direction = direction
        
        self.apply_filters()
    
    def apply_filters(self):
        """–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∫ –¥–∞–Ω–Ω—ã–º."""
        # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É
        if self.search_term:
            filtered = [
                item for item in self.raw_data
                if any(
                    self.search_term in str(value).lower()
                    for value in item.values()
                )
            ]
        else:
            filtered = self.raw_data[:]
        
        # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        if self.sort_field:
            reverse = self.sort_direction == "desc"
            filtered.sort(
                key=lambda x: x.get(self.sort_field, ""),
                reverse=reverse
            )
        
        self.filtered_data = filtered
    
    def export_filtered_data(self) -> str:
        """–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö."""
        import csv
        import io
        
        if not self.filtered_data:
            return ""
        
        output = io.StringIO()
        writer = csv.DictWriter(output, fieldnames=self.filtered_data[0].keys())
        writer.writeheader()
        writer.writerows(self.filtered_data)
        
        return output.getvalue()
```

### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:

```python
import reflex as rx
from sqlmodel import Field, Session, SQLModel, create_engine, select
from typing import Optional
import os

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
class User(SQLModel, table=True):
    """–ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    id: Optional[int] = Field(default=None, primary_key=True)
    username: str = Field(unique=True)
    email: str = Field(unique=True)
    full_name: str = ""
    disabled: bool = False

class Task(SQLModel, table=True):
    """–ú–æ–¥–µ–ª—å –∑–∞–¥–∞—á–∏."""
    id: Optional[int] = Field(default=None, primary_key=True)
    title: str
    description: str = ""
    completed: bool = False
    user_id: int = Field(foreign_key="user.id")

class DatabaseState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö."""
    # –ü—É—Ç—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    db_url: str = "sqlite:///reflex_app.db"
    engine = None
    
    def setup_db(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö."""
        if not self.engine:
            self.engine = create_engine(self.db_url)
            # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
            SQLModel.metadata.create_all(self.engine)
    
    def get_session(self) -> Session:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–µ—Å—Å–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö."""
        if not self.engine:
            self.setup_db()
        return Session(self.engine)

class UserDatabaseState(DatabaseState):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö."""
    current_user: Optional[User] = None
    users: list = []
    
    def load_users(self):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π."""
        with self.get_session() as session:
            users = session.exec(select(User)).all()
            self.users = users
        return self.users
    
    def create_user(self, username: str, email: str, full_name: str = ""):
        """–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        user = User(username=username, email=email, full_name=full_name)
        with self.get_session() as session:
            session.add(user)
            session.commit()
            session.refresh(user)
        self.load_users()  # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
        return user
    
    def get_user(self, user_id: int) -> Optional[User]:
        """–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID."""
        with self.get_session() as session:
            user = session.get(User, user_id)
            self.current_user = user
        return user
    
    def update_user(self, user_id: int, **kwargs):
        """–û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        with self.get_session() as session:
            user = session.get(User, user_id)
            for key, value in kwargs.items():
                setattr(user, key, value)
            session.add(user)
            session.commit()
            session.refresh(user)
        self.load_users()  # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
        return user
    
    def delete_user(self, user_id: int):
        """–£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        with self.get_session() as session:
            user = session.get(User, user_id)
            session.delete(user)
            session.commit()
        self.load_users()  # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫

class TaskDatabaseState(DatabaseState):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö."""
    tasks: list = []
    current_task: Optional[Task] = None
    
    def load_tasks(self, user_id: Optional[int] = None):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–¥–∞—á–∏."""
        with self.get_session() as session:
            query = select(Task)
            if user_id:
                query = query.where(Task.user_id == user_id)
            tasks = session.exec(query).all()
            self.tasks = tasks
        return self.tasks
    
    def create_task(self, title: str, description: str = "", user_id: int = 1):
        """–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É."""
        task = Task(title=title, description=description, user_id=user_id)
        with self.get_session() as session:
            session.add(task)
            session.commit()
            session.refresh(task)
        self.load_tasks()  # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
        return task
    
    def toggle_task_completion(self, task_id: int):
        """–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏."""
        with self.get_session() as session:
            task = session.get(Task, task_id)
            task.completed = not task.completed
            session.add(task)
            session.commit()
            session.refresh(task)
        self.load_tasks()  # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
        return task
    
    def delete_task(self, task_id: int):
        """–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É."""
        with self.get_session() as session:
            task = session.get(Task, task_id)
            session.delete(task)
            session.commit()
        self.load_tasks()  # –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫

# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
def user_management_panel() -> rx.Component:
    """–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏."""
    return rx.vstack(
        rx.heading("User Management", size="lg"),
        rx.input(
            placeholder="Username",
            id="username_input"
        ),
        rx.input(
            placeholder="Email",
            id="email_input"
        ),
        rx.input(
            placeholder="Full Name",
            id="fullname_input"
        ),
        rx.button(
            "Create User",
            on_click=lambda: UserDatabaseState.create_user(
                username=rx.Var("username_input.value"),
                email=rx.Var("email_input.value"),
                full_name=rx.Var("fullname_input.value")
            )
        ),
        rx.divider(),
        rx.heading("Users List", size="md"),
        rx.foreach(
            UserDatabaseState.users,
            lambda user: rx.hstack(
                rx.text(user.username),
                rx.text(user.email),
                rx.button(
                    "Edit",
                    size="sm"
                ),
                rx.button(
                    "Delete",
                    size="sm",
                    color_scheme="red",
                    on_click=lambda u=user: UserDatabaseState.delete_user(u.id)
                ),
                border=rx.color("gray", 4),
                padding="0.5em",
                border_radius="0.375rem"
            )
        ),
        spacing="1em",
        align="stretch"
    )
```

## –°–æ–±—ã—Ç–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π:

```python
import reflex as rx
import asyncio
from typing import Callable, Any

class EventHandlerState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π."""
    clicks: int = 0
    last_event: str = ""
    event_history: list = []
    
    def handle_click(self):
        """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞."""
        self.clicks += 1
        self.last_event = f"Click #{self.clicks}"
        self.event_history.append(self.last_event)
        if len(self.event_history) > 10:
            self.event_history.pop(0)
    
    def handle_key_down(self, key: str):
        """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏."""
        event_desc = f"Key pressed: {key}"
        self.last_event = event_desc
        self.event_history.append(event_desc)
        if len(self.event_history) > 10:
            self.event_history.pop(0)
    
    def handle_focus(self):
        """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ–∫—É—Å–∞."""
        event_desc = "Input focused"
        self.last_event = event_desc
        self.event_history.append(event_desc)
        if len(self.event_history) > 10:
            self.event_history.pop(0)
    
    def handle_blur(self):
        """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ—Ç–µ—Ä–∏ —Ñ–æ–∫—É—Å–∞."""
        event_desc = "Input blurred"
        self.last_event = event_desc
        self.event_history.append(event_desc)
        if len(self.event_history) > 10:
            self.event_history.pop(0)

def event_demo_component() -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π."""
    return rx.vstack(
        rx.heading("Event Handling Demo", size="lg"),
        rx.hstack(
            rx.button(
                "Click me!",
                on_click=EventHandlerState.handle_click,
                bg="blue.500",
                color="white"
            ),
            rx.input(
                placeholder="Focus and type here...",
                on_focus=EventHandlerState.handle_focus,
                on_blur=EventHandlerState.handle_blur,
                on_key_down=EventHandlerState.handle_key_down,
                width="300px"
            ),
        ),
        rx.text(f"Total clicks: {EventHandlerState.clicks}"),
        rx.text(f"Last event: {EventHandlerState.last_event}"),
        rx.heading("Event History", size="md"),
        rx.vstack(
            rx.foreach(
                EventHandlerState.event_history,
                lambda event: rx.text(event, font_size="sm")
            ),
            spacing="0.25em",
            align="start"
        ),
        spacing="1.5em",
        padding="2em",
        border=rx.color("gray", 4),
        border_radius="0.375rem"
    )
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:

```python
import reflex as rx
import asyncio
import aiohttp
from typing import List, Dict

class AsyncHandlerState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤."""
    loading: bool = False
    results: List[Dict] = []
    progress: int = 0
    status_message: str = ""
    
    async def async_operation(self):
        """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è."""
        self.loading = True
        self.progress = 0
        self.status_message = "Starting operation..."
        
        try:
            # –°–∏–º—É–ª—è—Ü–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
            for i in range(1, 11):
                self.progress = i * 10
                self.status_message = f"Processing... {self.progress}%"
                await asyncio.sleep(0.5)  # –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã
            
            # –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            self.results = [
                {"id": i, "name": f"Result {i}", "value": i * 10}
                for i in range(1, 6)
            ]
            self.status_message = "Operation completed!"
            
        except Exception as e:
            self.status_message = f"Error: {str(e)}"
        finally:
            self.loading = False
    
    async def fetch_multiple_apis(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö API –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ."""
        self.loading = True
        self.status_message = "Fetching data from APIs..."
        
        try:
            async with aiohttp.ClientSession() as session:
                # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
                tasks = [
                    self._fetch_api(session, 'https://jsonplaceholder.typicode.com/posts?_limit=3'),
                    self._fetch_api(session, 'https://jsonplaceholder.typicode.com/users?_limit=3'),
                    self._fetch_api(session, 'https://jsonplaceholder.typicode.com/comments?_limit=3')
                ]
                
                results = await asyncio.gather(*tasks, return_exceptions=True)
                
                combined_results = []
                for i, result in enumerate(results):
                    if isinstance(result, Exception):
                        combined_results.append({"error": f"API {i+1} failed: {str(result)}"})
                    else:
                        combined_results.extend(result)
                
                self.results = combined_results
                self.status_message = f"Received {len(combined_results)} items"
                
        except Exception as e:
            self.status_message = f"Error: {str(e)}"
        finally:
            self.loading = False
    
    async def _fetch_api(self, session: aiohttp.ClientSession, url: str):
        """–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API."""
        async with session.get(url) as response:
            return await response.json()

def async_demo_component() -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π."""
    return rx.vstack(
        rx.heading("Async Operations Demo", size="lg"),
        rx.hstack(
            rx.button(
                "Start Long Operation",
                on_click=AsyncHandlerState.async_operation,
                bg="purple.500",
                color="white",
                disabled=AsyncHandlerState.loading
            ),
            rx.button(
                "Fetch Multiple APIs",
                on_click=AsyncHandlerState.fetch_multiple_apis,
                bg="teal.500",
                color="white",
                disabled=AsyncHandlerState.loading
            ),
        ),
        rx.cond(
            AsyncHandlerState.loading,
            rx.vstack(
                rx.progress(value=AsyncHandlerState.progress, width="100%"),
                rx.text(AsyncHandlerState.status_message),
                rx.spinner(size="lg"),
            ),
            rx.text(AsyncHandlerState.status_message)
        ),
        rx.cond(
            AsyncHandlerState.results.length() > 0,
            rx.vstack(
                rx.heading("Results", size="md"),
                rx.scroll_area(
                    rx.vstack(
                        rx.foreach(
                            AsyncHandlerState.results,
                            lambda item: rx.card(
                                rx.vstack(
                                    rx.text(f"ID: {item['id']}", font_weight="bold") if "id" in item else rx.text("Data", font_weight="bold"),
                                    rx.text(str(item)),
                                    spacing="0.25em"
                                ),
                                padding="1em",
                                width="100%"
                            )
                        ),
                        spacing="0.5em"
                    ),
                    height="200px",
                    type_="auto"
                ),
                width="100%"
            )
        ),
        spacing="1.5em",
        padding="2em",
        border=rx.color("gray", 4),
        border_radius="0.375rem"
    )
```

### –°–ª–æ–∂–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å —É—Å–ª–æ–≤–∏—è–º–∏:

```python
import reflex as rx
from typing import Optional

class ConditionalHandlerState(rx.State):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤."""
    user_role: str = "guest"  # guest, user, admin
    permissions: dict = {}
    action_log: list = []
    
    def setup_permissions(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–∏."""
        permission_map = {
            "guest": {"view": True, "edit": False, "delete": False, "admin": False},
            "user": {"view": True, "edit": True, "delete": False, "admin": False},
            "admin": {"view": True, "edit": True, "delete": True, "admin": True}
        }
        self.permissions = permission_map.get(self.user_role, permission_map["guest"])
    
    def safe_action(self, action: str, resource: str):
        """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π."""
        if not self.permissions.get(action, False):
            self.action_log.append(f"Access denied: {self.user_role} cannot {action} {resource}")
            return
        
        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
        self.action_log.append(f"Action performed: {self.user_role} {action}ed {resource}")
        
        # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π
        if len(self.action_log) > 20:
            self.action_log.pop(0)
    
    def change_role(self, new_role: str):
        """–°–º–µ–Ω–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
        self.user_role = new_role
        self.setup_permissions()
        self.action_log.append(f"Role changed to: {new_role}")
    
    def can_perform_action(self, action: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è."""
        return self.permissions.get(action, False)

def conditional_ui_component() -> rx.Component:
    """–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —É—Å–ª–æ–≤–Ω—ã–º UI."""
    return rx.vstack(
        rx.heading("Conditional UI Demo", size="lg"),
        
        # –í—ã–±–æ—Ä —Ä–æ–ª–∏
        rx.hstack(
            rx.text("Role:"),
            rx.select(
                ["guest", "user", "admin"],
                value=ConditionalHandlerState.user_role,
                on_change=ConditionalHandlerState.change_role,
            ),
            rx.badge(ConditionalHandlerState.user_role, variant="outline")
        ),
        
        # –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (—É—Å–ª–æ–≤–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è)
        rx.hstack(
            rx.cond(
                ConditionalHandlerState.can_perform_action("view"),
                rx.button(
                    "View",
                    on_click=lambda: ConditionalHandlerState.safe_action("view", "document"),
                    bg="blue.500",
                    color="white"
                )
            ),
            rx.cond(
                ConditionalHandlerState.can_perform_action("edit"),
                rx.button(
                    "Edit",
                    on_click=lambda: ConditionalHandlerState.safe_action("edit", "document"),
                    bg="yellow.500",
                    color="black"
                )
            ),
            rx.cond(
                ConditionalHandlerState.can_perform_action("delete"),
                rx.button(
                    "Delete",
                    on_click=lambda: ConditionalHandlerState.safe_action("delete", "document"),
                    bg="red.500",
                    color="white"
                )
            ),
            rx.cond(
                ConditionalHandlerState.can_perform_action("admin"),
                rx.button(
                    "Admin Panel",
                    on_click=lambda: ConditionalHandlerState.safe_action("admin", "panel"),
                    bg="purple.500",
                    color="white"
                )
            ),
        ),
        
        # –õ–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π
        rx.vstack(
            rx.heading("Action Log", size="sm"),
            rx.scroll_area(
                rx.vstack(
                    rx.foreach(
                        ConditionalHandlerState.action_log,
                        lambda log: rx.text(log, font_size="sm")
                    ),
                    spacing="0.25em"
                ),
                height="150px",
                type_="auto"
            ),
            width="100%"
        ),
        
        spacing="1.5em",
        padding="2em",
        border=rx.color("gray", 4),
        border_radius="0.375rem"
    )
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:

```bash
# requirements.txt
reflex==0.4.5
sqlmodel
httpx
aiohttp
python-multipart
uvicorn
gunicorn
psycopg2-binary  # –¥–ª—è PostgreSQL
pymysql         # –¥–ª—è MySQL
```

```python
# rxconfig.py –¥–ª—è production
import reflex as rx

config = rx.Config(
    app_name="my_app",
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ production –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    db_url="postgresql://user:password@localhost/proddb",
    # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏ –≤ production
    env=rx.Env.PROD,
    # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
    telemetry_enabled=False,
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –¥–ª—è production
    cors_allowed_origins=["https://yourdomain.com"],
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Å—Å–∏–π
    redis_url="redis://localhost:6379",
)
```

### Docker –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```dockerfile
# Dockerfile
FROM python:3.10-slim

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN apt-get update && apt-get install -y \
    gcc \
    g++ \
    git \
    && rm -rf /var/lib/apt/lists/*

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Reflex)
RUN curl -sL https://deb.nodesource.com/setup_18.x | bash - \
    && apt-get install -y nodejs

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
RUN useradd --create-home --shell /bin/bash app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
WORKDIR /home/app
COPY --chown=app:app . /home/app/
RUN pip install --no-cache-dir -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Reflex
RUN pip install reflex

# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
USER app
RUN reflex init
RUN reflex export --frontend-only

# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞
EXPOSE 8000

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["reflex", "run", "--env", "prod"]
```

```yaml
# docker-compose.yml –¥–ª—è production
version: '3.8'

services:
  web:
    build: .
    ports:
      - "8000:8000"
    environment:
      - REFLEX_DB_URL=postgresql://reflex:password@db:5432/reflexdb
      - REFLEX_REDIS_URL=redis://redis:6379
    depends_on:
      - db
      - redis
    restart: unless-stopped

  db:
    image: postgres:13
    environment:
      POSTGRES_DB: reflexdb
      POSTGRES_USER: reflex
      POSTGRES_PASSWORD: password
    volumes:
      - postgres_data:/var/lib/postgresql/data
    restart: unless-stopped

  redis:
    image: redis:6-alpine
    restart: unless-stopped

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - web
    restart: unless-stopped

volumes:
  postgres_data:
```

### CI/CD Pipeline:

```yaml
# .github/workflows/deploy.yml
name: Deploy Reflex App

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'
    
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install reflex
        pip install -r requirements.txt
    
    - name: Run tests
      run: pytest tests/
    
    - name: Build application
      run: |
        reflex init
        reflex export --frontend-only
    
    - name: Deploy to production
      run: |
        # –ó–¥–µ—Å—å –≤–∞—à —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
        # –ù–∞–ø—Ä–∏–º–µ—Ä, rsync —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        # –∏–ª–∏ –≤—ã–∑–æ–≤ API –¥–ª—è –¥–µ–ø–ª–æ—è
        echo "Deploying to production..."
```

### Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```python
# production_config.py
import os
import reflex as rx

class ProductionConfig:
    """–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è production —Å—Ä–µ–¥—ã."""
    
    @staticmethod
    def get_config():
        """–ü–æ–ª—É—á–∏—Ç—å production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é."""
        return rx.Config(
            app_name=os.getenv("REFLEX_APP_NAME", "my_app"),
            db_url=os.getenv("DATABASE_URL", "sqlite:///prod.db"),
            env=rx.Env.PROD,
            telemetry_enabled=False,
            cors_allowed_origins=[
                os.getenv("FRONTEND_URL", "https://myapp.com"),
                "https://www.myapp.com"
            ],
            cors_credentials=True,
            cors_max_age=3600,
            compress_response=True,
            admin_dash=rx.AdminDash(
                models=[],  # –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
                view_class=None
            ),
            redis_url=os.getenv("REDIS_URL"),
            upload_path=os.getenv("UPLOAD_PATH", "/tmp/uploads"),
            frontend_packages=[
                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ npm –ø–∞–∫–µ—Ç—ã –¥–ª—è frontend
            ]
        )

# gunicorn_config.py
bind = "0.0.0.0:8000"
workers = 4
worker_class = "uvicorn.workers.UvicornWorker"
timeout = 120
keepalive = 5
max_requests = 1000
max_requests_jitter = 100
preload_app = True
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
my_reflex_app/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml
‚îú‚îÄ‚îÄ .vscode/
‚îÇ   ‚îî‚îÄ‚îÄ settings.json
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
‚îÇ   ‚îú‚îÄ‚îÄ logo.svg
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îú‚îÄ‚îÄ my_reflex_app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ app.py                 # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ styles.py            # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ components/          # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navigation.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cards.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py
‚îÇ   ‚îú‚îÄ‚îÄ states/              # –§–∞–π–ª—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py         # –ë–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py         # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py         # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard.py    # –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ pages/              # –§–∞–π–ª—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.py
‚îÇ   ‚îî‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ validators.py
‚îÇ       ‚îú‚îÄ‚îÄ helpers.py
‚îÇ       ‚îî‚îÄ‚îÄ constants.py
‚îú‚îÄ‚îÄ tests/                  # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_states.py
‚îÇ   ‚îî‚îÄ‚îÄ test_components.py
‚îú‚îÄ‚îÄ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ migrations/            # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ scripts/              # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ rxconfig.py
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ README.md
```

### 2. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```python
# my_reflex_app/states/base.py
import reflex as rx

class BaseState(rx.State):
    """–ë–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π."""
    # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    loading: bool = False
    error_message: str = ""
    success_message: str = ""
    
    def show_loading(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏."""
        self.loading = True
        self.error_message = ""
    
    def hide_loading(self):
        """–°–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏."""
        self.loading = False
    
    def set_error(self, message: str):
        """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ."""
        self.error_message = message
        self.hide_loading()
    
    def set_success(self, message: str):
        """–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ."""
        self.success_message = message
        self.hide_loading()

# my_reflex_app/states/auth.py
from .base import BaseState

class AuthState(BaseState):
    """–°–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏."""
    user_id: str = ""
    username: str = ""
    is_authenticated: bool = False
    redirect_to: str = "/"
    
    def login(self, username: str, password: str):
        """–ü—Ä–æ—Ü–µ—Å—Å –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É."""
        self.show_loading()
        try:
            # –ó–¥–µ—Å—å –ª–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            if self.validate_credentials(username, password):
                self.user_id = self.get_user_id(username)
                self.username = username
                self.is_authenticated = True
                self.success_message = "Successfully logged in!"
                
                # –†–µ–¥–∏—Ä–µ–∫—Ç –µ—Å–ª–∏ –±—ã–ª —É–∫–∞–∑–∞–Ω
                if self.redirect_to and self.redirect_to != "/":
                    return rx.redirect(self.redirect_to)
            else:
                self.set_error("Invalid username or password")
        except Exception as e:
            self.set_error(f"Login failed: {str(e)}")
        finally:
            self.hide_loading()
    
    def logout(self):
        """–ü—Ä–æ—Ü–µ—Å—Å –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã."""
        self.user_id = ""
        self.username = ""
        self.is_authenticated = False
        self.success_message = "Successfully logged out"
        return rx.redirect("/")
    
    def validate_credentials(self, username: str, password: str) -> bool:
        """–í–∞–ª–∏–¥–∞—Ü–∏—è —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∑–∞–≥–ª—É—à–∫–∞)."""
        # –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–∞—à—É –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏
        return username == "admin" and password == "password"
    
    def get_user_id(self, username: str) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞–≥–ª—É—à–∫–∞)."""
        # –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–∞—à—É –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è ID
        return f"user_{hash(username)}"
```

### 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —Ö–æ—Ä–æ—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π:

```python
# my_reflex_app/components/cards.py
import reflex as rx
from ..styles import *

def data_card(
    title: str,
    content: rx.Component,
    footer: rx.Component = None,
    variant: str = "elevated"
) -> rx.Component:
    """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–∞–Ω–Ω—ã—Ö."""
    base_style = {
        "bg": bg_color if variant == "filled" else "transparent",
        "border": border if variant == "outlined" else "none",
        "border_radius": border_radius,
        "padding": "1.5rem",
        "box_shadow": "0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)" if variant == "elevated" else "none",
    }
    
    card_parts = [
        rx.heading(title, size="md", margin_bottom="1rem") if title else None,
        content,
        rx.divider(margin_y="1rem") if footer else None,
        footer if footer else None
    ]
    
    # –£–±–∏—Ä–∞–µ–º None –∑–Ω–∞—á–µ–Ω–∏—è
    card_parts = [part for part in card_parts if part is not None]
    
    return rx.card(
        *card_parts,
        style=base_style
    )

def stat_card(
    title: str,
    value: str,
    change: str = "",
    icon: str = "",
    trend: str = "up"  # "up", "down", or "neutral"
) -> rx.Component:
    """–ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏."""
    trend_color = "green" if trend == "up" else "red" if trend == "down" else "gray"
    
    return data_card(
        title=title,
        content=rx.vstack(
            rx.hstack(
                rx.icon(icon, size=24) if icon else None,
                rx.text(value, font_size="2rem", font_weight="bold"),
                align="center"
            ),
            rx.hstack(
                rx.text(change, color=trend_color),
                rx.icon("arrow-up" if trend == "up" else "arrow-down" if trend == "down" else "minus", 
                       color=trend_color, size=16) if change else None,
                align="center"
            ) if change else None,
            spacing="0.5rem",
            align="start"
        )
    )

# my_reflex_app/components/forms.py
def input_field(
    label: str,
    placeholder: str,
    value,
    on_change,
    error_text: str = "",
    required: bool = False,
    type_: str = "text"
) -> rx.Component:
    """–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–µ –≤–≤–æ–¥–∞."""
    return rx.vstack(
        rx.hstack(
            rx.text(label, font_weight="medium"),
            rx.text("*", color="red.500") if required else None,
            spacing="0.25rem"
        ) if label else None,
        rx.input(
            placeholder=placeholder,
            value=value,
            on_change=on_change,
            type_=type_,
            border=border,
            border_radius=border_radius,
            padding="0.75rem",
            style={
                "focus": {
                    "border_color": accent_color,
                    "box_shadow": f"0 0 0 3px {rx.color('accent', 5)}",
                }
            }
        ),
        rx.text(error_text, color="red.500", font_size="0.875rem") if error_text else None,
        align="start",
        spacing="0.5rem",
        width="100%"
    )

def form_container(
    *children,
    title: str = "",
    subtitle: str = "",
    submit_handler=None,
    submit_label: str = "Submit"
) -> rx.Component:
    """–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ñ–æ—Ä–º—ã."""
    return rx.card(
        rx.vstack(
            rx.vstack(
                rx.heading(title, size="lg") if title else None,
                rx.text(subtitle, color="gray.600") if subtitle else None,
                spacing="0.25rem",
                align="start",
                width="100%"
            ) if title or subtitle else None,
            
            *children,
            
            rx.button(
                submit_label,
                on_click=submit_handler,
                bg=accent_color,
                color="white",
                width="100%",
                margin_top="1.5rem"
            ) if submit_handler else None,
            
            spacing="1.5rem",
            width="100%"
        ),
        padding="2rem",
        width="100%",
        max_width="24rem"
    )
```

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```python
# tests/test_states.py
import pytest
import reflex as rx
from my_reflex_app.states.auth import AuthState

def test_initial_auth_state():
    """–¢–µ—Å—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏."""
    state = AuthState()
    assert state.user_id == ""
    assert state.username == ""
    assert not state.is_authenticated
    assert state.error_message == ""

@pytest.mark.asyncio
async def test_login_success():
    """–¢–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞."""
    state = AuthState()
    
    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ–∫-–º–µ—Ç–æ–¥—ã
    original_validate = state.validate_credentials
    original_get_user_id = state.get_user_id
    
    state.validate_credentials = lambda u, p: True
    state.get_user_id = lambda u: "mock_user_id"
    
    await state.login("testuser", "password")
    
    assert state.is_authenticated
    assert state.username == "testuser"
    assert state.user_id == "mock_user_id"
    assert "Successfully logged in" in state.success_message
    
    # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    state.validate_credentials = original_validate
    state.get_user_id = original_get_user_id

def test_logout():
    """–¢–µ—Å—Ç –≤—ã—Ö–æ–¥–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã."""
    state = AuthState()
    state.user_id = "test_user"
    state.username = "testuser"
    state.is_authenticated = True
    
    result = state.logout()
    
    assert not state.is_authenticated
    assert state.user_id == ""
    assert state.username == ""
    assert result == rx.redirect("/")

# tests/test_components.py
import reflex as rx
from my_reflex_app.components.cards import stat_card

def test_stat_card_render():
    """–¢–µ—Å—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏."""
    card = stat_card(
        title="Sales",
        value="$12,345",
        change="+12%",
        icon="trending-up",
        trend="up"
    )
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
    assert card is not None
```

> –≠—Ç–æ—Ç –º–∞–Ω—É–∞–ª –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã Reflex Framework. –î–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –∏ –∏–∑—É—á–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.