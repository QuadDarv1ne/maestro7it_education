# 📖 Справочные материалы - Урок 17

---

## 1️⃣ Быстрый справочник (Cheat Sheet)

### Пины Arduino (используются в уроке)

```
┌─────────────────────────────────────────────────┐
│ РАСПРЕДЕЛЕНИЕ ПИН ARDUINO UNO                  │
├─────────────────────────────────────────────────┤
│                                                 │
│ ПИТАНИЕ:                                        │
│  ├─ 5V   - Питание +5 вольт                    │
│  ├─ GND  - Земля (минус)                       │
│  └─ 3V3  - Питание +3.3 вольта                │
│                                                 │
│ ЦИФРОВЫЕ ВЫВОДЫ (0-13):                        │
│  ├─ D0-D1   - UART (Serial)                    │
│  ├─ D2-D13  - GPIO (любые функции)            │
│  └─ D3, D5, D6, D9, D10, D11 - PWM ⭐        │
│                                                 │
│ АНАЛОГОВЫЕ ВХОДЫ (A0-A5):                      │
│  ├─ A0-A5   - analogRead()                     │
│  └─ Разрешение: 10-bit (0-1023)               │
│                                                 │
├─────────────────────────────────────────────────┤
│ ДЛЯ ЭТОГО УРОКА ИСПОЛЬЗУЕМ:                    │
├─────────────────────────────────────────────────┤
│                                                 │
│ РЕЛЕ:        D2 или D3  (Digital)              │
│ RED LED:     D3 ⭐ (PWM)                       │
│ GREEN LED:   D5 ⭐ (PWM)                       │
│ BLUE LED:    D6 ⭐ (PWM)                       │
│ BUZZER:      D9 ⭐ (PWM для tone())           │
│ SENSOR:      A0  (Analog)                      │
│                                                 │
└─────────────────────────────────────────────────┘

⭐ = PWM пин (поддерживает analogWrite)
```

### Основные функции

```cpp
╔════════════════════════════════════════════════════════════╗
║               УПРАВЛЕНИЕ ЦИФРОВЫМИ ВЫВОДАМИ               ║
╠════════════════════════════════════════════════════════════╣
║                                                            ║
║ pinMode(pin, mode)                                         ║
║  ├─ Установить режим вывода                              ║
║  ├─ mode: INPUT, OUTPUT, INPUT_PULLUP                    ║
║  └─ Пример: pinMode(3, OUTPUT);                          ║
║                                                            ║
║ digitalWrite(pin, level)                                   ║
║  ├─ Установить уровень: HIGH или LOW                     ║
║  ├─ Только для цифровых выводов                          ║
║  └─ Пример: digitalWrite(3, HIGH);                       ║
║                                                            ║
║ digitalRead(pin)                                           ║
║  ├─ Прочитать уровень: HIGH или LOW                      ║
║  ├─ Возвращает: 1 (HIGH) или 0 (LOW)                    ║
║  └─ Пример: if (digitalRead(2) == HIGH) { ... }         ║
║                                                            ║
╠════════════════════════════════════════════════════════════╣
║              УПРАВЛЕНИЕ АНАЛОГОВЫМИ ВЫВОДАМИ              ║
╠════════════════════════════════════════════════════════════╣
║                                                            ║
║ analogRead(pin)                                            ║
║  ├─ Прочитать аналоговое значение                        ║
║  ├─ Возвращает: 0-1023 (10-bit)                          ║
║  ├─ Используется: A0-A5                                  ║
║  └─ Пример: int val = analogRead(A0);                    ║
║                                                            ║
║ analogWrite(pin, value)                                    ║
║  ├─ ШИМ (PWM) сигнал на выводе                          ║
║  ├─ value: 0-255 (0% - 100%)                             ║
║  ├─ Работает ТОЛЬКО на PWM пинах! ⭐                    ║
║  └─ Пример: analogWrite(3, 128);  // 50% яркость         ║
║                                                            ║
╠════════════════════════════════════════════════════════════╣
║              РАБОТА СО ЗВУКОМ (TONE)                       ║
╠════════════════════════════════════════════════════════════╣
║                                                            ║
║ tone(pin, frequency)                                       ║
║  ├─ Генерировать звук бесконечно                         ║
║  ├─ frequency: частота в Герцах (Hz)                     ║
║  └─ Пример: tone(9, 1000);                               ║
║                                                            ║
║ tone(pin, frequency, duration)                             ║
║  ├─ Генерировать звук на время                           ║
║  ├─ duration: длительность в миллисекундах               ║
║  └─ Пример: tone(9, 1000, 500);  // 500ms                ║
║                                                            ║
║ noTone(pin)                                                ║
║  ├─ Остановить звук                                      ║
║  ├─ Применяется к ОДНОМУ пину!                           ║
║  └─ Пример: noTone(9);                                   ║
║                                                            ║
╚════════════════════════════════════════════════════════════╝
```

### Типичные параметры компонентов

```
╔═══════════════════════════════════════════════════════════╗
║            ПАРАМЕТРЫ ЭЛЕКТРОМЕХАНИЧЕСКОГО РЕЛЕ            ║
╠═══════════════════════════════════════════════════════════╣
║                                                           ║
║ Напряжение катушки:        5V, 12V, 24V                 ║
║ Ток катушки:               30-100 мА                     ║
║ Контакты:                  NO (нормально открытый)      ║
║                            NC (нормально закрытый)      ║
║ Максимальное напряжение:   250V AC                       ║
║ Максимальный ток:          10A                          ║
║ Время срабатывания:        ~10 мс                       ║
║ Срок службы:               1-2 млн циклов               ║
║ Цена:                      50-200 руб.                  ║
║                                                           ║
║ ПОПУЛЯРНЫЕ МОДЕЛИ:                                       ║
║  ├─ SRD-05VDC-SL-C        (5V, 1 канал)                ║
║  ├─ MY-2P                  (12V, 2 канала)              ║
║  └─ модули на 2/4/8 реле  (с защитой)                  ║
║                                                           ║
╠═══════════════════════════════════════════════════════════╣
║             ПАРАМЕТРЫ RGB СВЕТОДИОДА (4-НОЖКА)           ║
╠═══════════════════════════════════════════════════════════╣
║                                                           ║
║ Тип:                       Общий катод (-)               ║
║                            или общий анод (+)            ║
║ Напряжение:                5V (через резистор)           ║
║ Ток на цвет:               20 мА                         ║
║ Резисторы:                 220Ω - 1кΩ                   ║
║ Яркость (value):           0-255 (analogWrite)          ║
║ Угол обзора:               ~120°                         ║
║ Цена:                      5-20 руб.                     ║
║                                                           ║
║ ЦВЕТА (RGB значения):                                    ║
║  ├─ Красный:      (255, 0, 0)                           ║
║  ├─ Зелёный:      (0, 255, 0)                           ║
║  ├─ Синий:        (0, 0, 255)                           ║
║  ├─ Жёлтый:       (255, 255, 0)                         ║
║  ├─ Голубой:      (0, 255, 255)                         ║
║  ├─ Фиолетовый:   (255, 0, 255)                         ║
║  ├─ Белый:        (255, 255, 255)                       ║
║  └─ Чёрный:       (0, 0, 0)                             ║
║                                                           ║
╠═══════════════════════════════════════════════════════════╣
║         ПАРАМЕТРЫ ПЬЕЗОЗВУКОИЗЛУЧАТЕЛЯ (BUZZER)          ║
╠═══════════════════════════════════════════════════════════╣
║                                                           ║
║ Тип:                       Пассивный или активный        ║
║ Напряжение:                3V - 5V                       ║
║ Ток:                       10-20 мА                      ║
║ Частота:                   2-4 кГц (резонансная)        ║
║ Диапазон частот:           1-40 кГц                     ║
║ Громкость:                 80-90 дБ                      ║
║ Жизненный цикл:            1000+ часов                  ║
║ Цена:                      10-50 руб.                    ║
║                                                           ║
║ ТИПИЧНЫЕ ЧАСТОТЫ:                                        ║
║  ├─ 440 Hz   - Нота A4 (ля)                             ║
║  ├─ 1000 Hz  - Стандартный сигнал                       ║
║  ├─ 2000 Hz  - Высокий звук                             ║
║  └─ 100 Hz   - Низкий звук                              ║
║                                                           ║
║ ПАССИВНЫЙ vs АКТИВНЫЙ:                                   ║
║  Пассивный:  tone(pin, freq) - требует PWM             ║
║  Активный:   digitalWrite(pin, HIGH) - просто включить  ║
║                                                           ║
╠═══════════════════════════════════════════════════════════╣
║              ПАРАМЕТРЫ ЗАЩИТНЫХ КОМПОНЕНТОВ              ║
╠═══════════════════════════════════════════════════════════╣
║                                                           ║
║ РЕЗИСТОРЫ ТОКООГРАНИЧИВАЮЩИЕ:                            ║
║  ├─ Для LED:                220Ω - 1кΩ                  ║
║  ├─ Для сигналов:           1кΩ - 10кΩ                  ║
║  └─ Стандартная мощность:   0.25W (1/4W)               ║
║                                                           ║
║ КОНДЕНСАТОРЫ ФИЛЬТРА:                                    ║
║  ├─ Для высокочастотных помех: 0.1μF                    ║
║  ├─ Для низкочастотных помех:  10-100μF                 ║
║  └─ Напряжение:               16V или выше              ║
║                                                           ║
║ ДИОДЫ ШОТТКИ (защита):                                   ║
║  ├─ BAT54, 1N4148                                        ║
║  ├─ Прямое падение: ~0.3V                               ║
║  └─ Максимальный ток: 200мА                             ║
║                                                           ║
║ ОПТРОИЗОЛЯТОР:                                           ║
║  ├─ PC817, TLP291                                        ║
║  ├─ Напряжение изоляции: 5000V                          ║
║  └─ Максимальный ток: 50мА                              ║
║                                                           ║
╚═══════════════════════════════════════════════════════════╝
```

### Шпаргалка по связыванию компонентов

```
┌─────────────────────────────────────────────┐
│ РЕЛЕ + ТРАНЗИСТОР + ДИОД                    │
├─────────────────────────────────────────────┤
│                                             │
│ Arduino D3 → Резистор 1кΩ → Base N2N2222   │
│ Collector → Катушка реле                    │
│ Emitter → GND                               │
│ Параллельно катушке: Диод 1N4007           │
│                                             │
├─────────────────────────────────────────────┤
│ RGB LED (ОБЩИЙ КАТОД)                       │
├─────────────────────────────────────────────┤
│                                             │
│ R → Резистор 220Ω → D3 (PWM)               │
│ G → Резистор 220Ω → D5 (PWM)               │
│ B → Резистор 220Ω → D6 (PWM)               │
│ GND → Arduino GND                           │
│                                             │
├─────────────────────────────────────────────┤
│ ПЬЕЗОЗВУКОИЗЛУЧАТЕЛЬ                       │
├─────────────────────────────────────────────┤
│                                             │
│ + → D9 (PWM для tone)                      │
│ - → Arduino GND                             │
│                                             │
└─────────────────────────────────────────────┘
```

---

## 2️⃣ Глоссарий с ссылками

### Основные термины

| Термин | Определение | Связанные термины | Используется |
|--------|------------|------------------|------------|
| **Реле** | Электромеханический переключатель, управляется сигналом 5V, может коммутировать 220V | [Катушка](#катушка), [NO/NC](#nonc), [Транзистор](#транзистор) | Раздел 2 |
| **RGB LED** | Светодиод с тремя цветовыми каналами (красный, зелёный, синий) | [PWM](#pwm), [analogWrite](#analogwrite), [Цветовые модели](#цветовые-модели) | Раздел 3 |
| **PWM** | Широтно-импульсная модуляция - быстрое включение/выключение для изменения средней мощности | [analogWrite](#analogwrite), [Частота](#частота) | Разделы 1, 3, 4 |
| **Buzzer** | Пьезозвукоизлучатель - компонент для генерации звука | [tone()](#tone), [Частота](#частота), [Пассивный/Активный](#пассивныйактивный) | Раздел 4 |
| **Tone()** | Функция Arduino для генерации звука определённой частоты | [Buzzer](#buzzer), [Частота](#частота), [noTone()](#notone) | Раздел 4 |
| **Катушка** | Обмотка провода в реле, создающая магнитное поле при подаче тока | [Реле](#реле), [Напряжение](#напряжение), [Ток](#ток) | Раздел 2 |
| **NO/NC** | Normally Open (нормально открытый) / Normally Closed (нормально закрытый) - состояния контактов реле | [Реле](#реле), [Контакты](#контакты) | Раздел 2 |
| **Транзистор** | Полупроводниковый прибор для усиления и коммутации токов | [Реле](#реле), [Base/Collector/Emitter](#basecolectoremitter) | Раздел 2 |
| **analogWrite()** | Функция Arduino для ШИМ-управления (0-255 значение) | [PWM](#pwm), [RGB LED](#rgb-led), [Яркость](#яркость) | Разделы 1, 3 |
| **digitalWrite()** | Функция для установки цифрового вывода в HIGH или LOW | [Реле](#реле), [Цифровой вывод](#цифровой-вывод) | Разделы 1, 2 |
| **analogRead()** | Функция для чтения аналогового значения (0-1023) | [Аналоговый вход](#аналоговый-вход), [Датчик](#датчик) | Раздел 5 |
| **Частота** | Количество колебаний в секунду, измеряется в Герцах (Hz) | [tone()](#tone), [PWM](#pwm), [Музыкальные ноты](#музыкальные-ноты) | Раздел 4 |
| **Яркость** | Интенсивность свечения LED (0-255 при PWM) | [analogWrite()](#analogwrite), [RGB LED](#rgb-led) | Раздел 3 |
| **Оптроизолятор** | Компонент для гальванической развязки между цепями | [Защита](#защита), [Шум](#шум) | Раздел 5 |
| **Диод Шоттки** | Быстрый диод для защиты от обратного тока и перепадов напряжения | [Защита](#защита), [Реле](#реле) | Раздел 5 |
| **Контакты** | Металлические части реле, замыкающие/размыкающие цепь | [NO/NC](#nonc), [Реле](#реле) | Раздел 2 |
| **Цифровой вывод** | Pin на Arduino для вывода HIGH/LOW (D0-D13) | [digitalWrite()](#digitalwrite), [Реле](#реле) | Раздел 1 |
| **Аналоговый вход** | Pin для чтения аналогового сигнала (A0-A5, 0-1023) | [analogRead()](#analogread), [Датчик](#датчик) | Раздел 1 |
| **Датчик** | Прибор для измерения физических величин | [analogRead()](#analogread), [Защита](#защита) | Раздел 5 |

### Дополнительные термины

| Термин | Значение |
|--------|----------|
| **noTone()** | Функция для остановки звука на пине |
| **Пассивный/Активный** | Пассивный buzzer требует PWM, активный - просто питание |
| **Цветовые модели** | RGB (красный, зелёный, синий), HSV (оттенок, насыщение, яркость) |
| **Музыкальные ноты** | Определённые частоты (А4=440Hz, С4=262Hz и т.д.) |
| **Base/Collector/Emitter** | Выводы биполярного транзистора |
| **Резонансная частота** | Частота максимальной громкости для buzzer (~2-4 кГц) |
| **Защита** | Компоненты для предотвращения повреждения Arduino |
| **Шум** | Электромагнитные помехи в сигналах |
| **Напряжение** | Разность электрических потенциалов (Вольты) |
| **Ток** | Движение электронов (Амперы) |

---

## 3️⃣ Ссылки на готовые библиотеки

### Для RGB контроля

#### 1. **Adafruit NeoPixel** ⭐ (адресуемые RGB LED)
```
📦 Библиотека: Adafruit_NeoPixel
🔗 GitHub: https://github.com/adafruit/Adafruit_NeoPixel
📥 Arduino IDE: Sketch → Include Library → Manage Libraries → 
                поиск "Adafruit NeoPixel"
📖 Документация: https://learn.adafruit.com/adafruit-neopixel-uberguide

Особенности:
  ✓ Поддержка адресуемых LED полос (WS2812, WS2811)
  ✓ Встроенные эффекты
  ✓ Легко управлять сотнями LED с одного пина
  ✓ RGB + RGBW варианты

Пример:
  #include <Adafruit_NeoPixel.h>
  Adafruit_NeoPixel pixels(10, 6, NEO_GRB + NEO_KHZ800);
  pixels.begin();
  pixels.setPixelColor(0, 255, 0, 0);  // Красный
  pixels.show();
```

#### 2. **FastLED** (высокопроизводительный контроль LED)
```
📦 Библиотека: FastLED
🔗 GitHub: https://github.com/FastLED/FastLED
📥 Arduino IDE: Sketch → Include Library → Manage Libraries → 
                поиск "FastLED"
📖 Документация: https://fastled.io/

Особенности:
  ✓ Оптимизирована для скорости
  ✓ Поддержка множества типов LED
  ✓ Встроенные паттерны и эффекты
  ✓ HSV цветовая модель
  ✓ Коррекция гаммы

Пример:
  #define NUM_LEDS 10
  #define DATA_PIN 6
  CRGB leds[NUM_LEDS];
  FastLED.addLeds<WS2812, DATA_PIN, GRB>(leds, NUM_LEDS);
  leds[0] = CRGB::Red;
  FastLED.show();
```

#### 3. **Простой RGB без библиотеки**
```
Если вам не нужна сложная функциональность, просто используйте:

void setColor(int r, int g, int b) {
  analogWrite(RED_PIN, r);
  analogWrite(GREEN_PIN, g);
  analogWrite(BLUE_PIN, b);
}

Это самый простой и экономный вариант!
```

---

### Для сложных звуков и музыки

#### 1. **Arduino-Music-Player** (проигрывание мелодий)
```
📦 Библиотека: ArduinoMusicPlayer
🔗 GitHub: https://github.com/nickgammon/Music
📥 Установка: Загрузить ZIP и добавить в Arduino IDE
📖 Документация: https://www.gammon.com.au/notes/musicalNotes.html

Особенности:
  ✓ Встроенная база музыкальных нот
  ✓ Легко писать мелодии как текст
  ✓ Поддержка октав и длительностей
  ✓ Примеры известных мелодий

Пример:
  Используется в основном для хранения частот нот

Таблица нот в библиотеке:
  NOTE_B0, NOTE_C1, NOTE_CS1, NOTE_D1 и т.д.
```

#### 2. **ToneAC** (улучшенный звук)
```
📦 Библиотека: toneAC
🔗 GitHub: https://github.com/Locoduino/toneAC
📥 Arduino IDE: Sketch → Include Library → Manage Libraries → 
                поиск "toneAC"
📖 Документация: https://github.com/Locoduino/toneAC

Особенности:
  ✓ Двухтактный звук (громче)
  ✓ Поддержка нескольких фигур волны
  ✓ Низкое энергопотребление
  ✓ Плавное изменение громкости

Пример:
  toneAC(1000);        // 1000 Hz
  toneAC(1000, 255);   // С максимальной громкостью
  noToneAC();          // Остановить
```

#### 3. **Tone.h встроенная функция** (стандартная)
```
Встроенная в Arduino - не требует установки

Особенности:
  ✓ Простая и надёжная
  ✓ Достаточна для большинства случаев
  ✓ Не требует дополнительных библиотек
  ✓ Поддержка на всех Arduino

Использование:
  tone(pin, frequency);
  tone(pin, frequency, duration);
  noTone(pin);

Это оптимальный выбор для начинающих!
```

#### 4. **MIDI для Arduino**
```
📦 Библиотека: MIDI
🔗 GitHub: https://github.com/FortySevenEffects/arduino_midi_library
📥 Arduino IDE: Sketch → Include Library → Manage Libraries → 
                поиск "MIDI"
📖 Документация: https://github.com/FortySevenEffects/arduino_midi_library

Особенности:
  ✓ Полная поддержка MIDI протокола
  ✓ Синтез сложных звуков
  ✓ Интеграция с музыкальным оборудованием
  ✓ Профессиональный уровень

Примечание: Для продвинутых пользователей
```

---

### Для управления несколькими реле

#### 1. **RelayModule** (управление модулями реле)
```
📦 Библиотека: Relay
🔗 GitHub: https://github.com/arduino-libraries/Relay
📥 Arduino IDE: Sketch → Include Library → Manage Libraries → 
                поиск "Relay"
📖 Документация: https://github.com/arduino-libraries/Relay

Особенности:
  ✓ Упрощённое управление одним/несколькими реле
  ✓ Поддержка каскадных операций
  ✓ Защита от перегрузок
  ✓ Удобный API

Пример:
  #include <Relay.h>
  Relay relay1(3);
  relay1.on();
  delay(2000);
  relay1.off();
```

#### 2. **8-Channel Relay Module (простое управление)**
```
📦 Нет официальной библиотеки - используется digitalWrite

Подключение 8-канального модуля реле:
  D2 → CH1
  D3 → CH2
  D4 → CH3
  D5 → CH4
  D6 → CH5
  D7 → CH6
  D8 → CH7
  D9 → CH8

Пример кода:
  const int relayPins[8] = {2, 3, 4, 5, 6, 7, 8, 9};
  
  void setup() {
    for (int i = 0; i < 8; i++) {
      pinMode(relayPins[i], OUTPUT);
      digitalWrite(relayPins[i], LOW);
    }
  }
  
  void setRelay(int channel, boolean state) {
    digitalWrite(relayPins[channel - 1], state ? HIGH : LOW);
  }
```

#### 3. **I2C Relay Module (через I2C)**
```
📦 Библиотека: PCF8574 или MCP23017 для I2C управления
🔗 PCF8574: https://github.com/xreef/PCF8574_library
📥 Arduino IDE: Sketch → Include Library → Manage Libraries

Особенности:
  ✓ Управление через I2C (только 2 пина: SDA, SCL)
  ✓ Можно подключить до 8 модулей (64 реле)
  ✓ Экономия пинов Arduino
  ✓ Расширяемость

Пример:
  #include "PCF8574.h"
  PCF8574 pcf8574(0x20);
  
  pcf8574.digitalWrite(0, HIGH);  // Первое реле вкл
```

#### 4. **Собственная библиотека RelayControl (для этого курса)**
```
Простая самодельная библиотека для управления несколькими реле:

// RelayControl.h
class RelayControl {
  private:
    int* relay_pins;
    int relay_count;
    
  public:
    RelayControl(int pins[], int count) {
      relay_pins = pins;
      relay_count = count;
      for (int i = 0; i < relay_count; i++) {
        pinMode(relay_pins[i], OUTPUT);
        digitalWrite(relay_pins[i], LOW);
      }
    }
    
    void turnOn(int relay) {
      if (relay >= 0 && relay < relay_count) {
        digitalWrite(relay_pins[relay], HIGH);
      }
    }
    
    void turnOff(int relay) {
      if (relay >= 0 && relay < relay_count) {
        digitalWrite(relay_pins[relay], LOW);
      }
    }
    
    void toggle(int relay) {
      if (relay >= 0 && relay < relay_count) {
        int state = digitalRead(relay_pins[relay]);
        digitalWrite(relay_pins[relay], !state);
      }
    }
    
    void allOn() {
      for (int i = 0; i < relay_count; i++) {
        digitalWrite(relay_pins[i], HIGH);
      }
    }
    
    void allOff() {
      for (int i = 0; i < relay_count; i++) {
        digitalWrite(relay_pins[i], LOW);
      }
    }
    
    boolean getState(int relay) {
      if (relay >= 0 && relay < relay_count) {
        return digitalRead(relay_pins[relay]);
      }
      return false;
    }
};

// Использование:
const int RELAY_PINS[] = {2, 3, 4, 5, 6, 7, 8, 9};
RelayControl relays(RELAY_PINS, 8);

void setup() {
  Serial.begin(9600);
}

void loop() {
  relays.turnOn(0);   // Первое реле вкл
  delay(1000);
  relays.turnOff(0);  // Первое реле выкл
  delay(1000);
  
  relays.allOn();     // Все реле вкл
  delay(500);
  relays.allOff();    // Все реле выкл
  delay(500);
}
```

---

## 📚 Сводная таблица библиотек

```
┌─────────────────────────────────────────────────────────────┐
│ СРАВНЕНИЕ БИБЛИОТЕК                                         │
├──────────────────┬────────────────────────────────────────┤
│ ФУНКЦИЯ          │ РЕКОМЕНДУЕМАЯ БИБЛИОТЕКА              │
├──────────────────┼────────────────────────────────────────┤
│                  │                                        │
│ RGB LED          │ ✅ Встроенный analogWrite() (простой) │
│ (простые)        │ ⭐ Adafruit NeoPixel (адресуемые)    │
│                  │ ⭐ FastLED (высокопроизв.)           │
│                  │                                        │
│ Музыка/Звуки     │ ✅ Встроенный tone() (простой)       │
│                  │ ⭐ toneAC (громче)                   │
│                  │ ⭐ MIDI (профессиональный)           │
│                  │                                        │
│ Множеств. реле   │ ✅ digitalWrite() (8 реле макс)      │
│                  │ ⭐ PCF8574 + I2C (много реле)        │
│                  │ ⭐ MCP23017 (много реле)             │
│                  │                                        │
│ Управление       │ ✅ Встроенные функции Arduino         │
│ Все вместе       │ ⭐ Библиотека собственного проекта   │
│                  │                                        │
└──────────────────┴────────────────────────────────────────┘

✅ = Достаточно встроенных возможностей
⭐ = Рекомендуется для расширения функциональности
```

---

## 🔧 Краткая установка библиотек

### Способ 1: Через Arduino IDE (рекомендуется)

```
1. Откройте Arduino IDE
2. Нажмите: Sketch → Include Library → Manage Libraries
3. В поисковой строке введите название библиотеки
   Примеры:
   - "Adafruit NeoPixel"
   - "FastLED"
   - "PCF8574"
4. Нажмите "Install"
5. Дождитесь установки
6. Используйте #include <LibraryName.h> в коде
```

### Способ 2: Загрузить ZIP вручную

```
1. Перейдите на GitHub репозиторий
2. Нажмите "Code" → "Download ZIP"
3. В Arduino IDE: Sketch → Include Library → Add .ZIP Library
4. Выберите загруженный ZIP файл
5. Нажмите "Open"
```

### Способ 3: Сложные библиотеки (например, PCF8574)

```
GitHub: https://github.com/xreef/PCF8574_library

Альтернативная установка:
1. Клонируйте репозиторий в папку libraries
   (Windows) C:\Users\YourUser\Documents\Arduino\libraries
   (Mac) ~/Documents/Arduino/libraries
   (Linux) ~/Arduino/libraries
   
2. Перезагрузите Arduino IDE
3. Библиотека появится в меню Include Library
```

---

## 🎯 Быстрые примеры (copy-paste готовые)

### Пример 1: Управление 3 реле

```cpp
// Быстрый пример - копируй и вставляй!
const int RELAY1 = 2;
const int RELAY2 = 3;
const int RELAY3 = 4;

void setup() {
  Serial.begin(9600);
  pinMode(RELAY1, OUTPUT);
  pinMode(RELAY2, OUTPUT);
  pinMode(RELAY3, OUTPUT);
  
  digitalWrite(RELAY1, LOW);
  digitalWrite(RELAY2, LOW);
  digitalWrite(RELAY3, LOW);
}

void loop() {
  // Последовательное включение
  digitalWrite(RELAY1, HIGH);
  delay(1000);
  digitalWrite(RELAY2, HIGH);
  delay(1000);
  digitalWrite(RELAY3, HIGH);
  delay(1000);
  
  // Отключение
  digitalWrite(RELAY1, LOW);
  digitalWrite(RELAY2, LOW);
  digitalWrite(RELAY3, LOW);
  delay(2000);
}
```

### Пример 2: RGB LED все цвета

```cpp
// Быстрый пример RGB LED
const int R = 3;
const int G = 5;
const int B = 6;

void setup() {
  pinMode(R, OUTPUT);
  pinMode(G, OUTPUT);
  pinMode(B, OUTPUT);
}

void loop() {
  setColor(255, 0, 0);    // Красный
  delay(500);
  setColor(0, 255, 0);    // Зелёный
  delay(500);
  setColor(0, 0, 255);    // Синий
  delay(500);
  setColor(255, 255, 0);  // Жёлтый
  delay(500);
  setColor(0, 255, 255);  // Голубой
  delay(500);
  setColor(255, 0, 255);  // Фиолетовый
  delay(500);
  setColor(255, 255, 255);// Белый
  delay(500);
}

void setColor(int r, int g, int b) {
  analogWrite(R, r);
  analogWrite(G, g);
  analogWrite(B, b);
}
```

### Пример 3: Звук - известные мелодии

```cpp
// Звуки и мелодии - копируй и вставляй!
const int BUZZER = 9;

// Мелодия "Марш Бахуса"
int melody[] = {330, 330, 330, 262, 330, 392, 196, 220, 262, 294, 330, 262, 294, 330, 330, 330, 330, 330, 294, 330, 392, 
};
int durations[] = {1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2};

void setup() {
  pinMode(BUZZER, OUTPUT);
}

void loop() {
  // Звуковой сигнал
  tone(BUZZER, 1000, 100);
  delay(200);
  
  // Проигрывание мелодии
  for (int i = 0; i < sizeof(melody)/sizeof(melody[0]); i++) {
    tone(BUZZER, melody[i], 500 * durations[i]);
    delay(600 * durations[i]);
  }
  
  delay(2000);
}
```

### Пример 4: Интегрированная система

```cpp
// Всё вместе: реле + RGB + звук
const int RELAY = 2;
const int R = 3, G = 5, B = 6;
const int BUZZER = 9;

void setup() {
  Serial.begin(9600);
  pinMode(RELAY, OUTPUT);
  pinMode(R, OUTPUT);
  pinMode(G, OUTPUT);
  pinMode(B, OUTPUT);
  pinMode(BUZZER, OUTPUT);
}

void loop() {
  // Включение системы
  systemOn();
  delay(2000);
  
  // Рабочий режим
  systemWorking();
  delay(2000);
  
  // Ошибка
  systemError();
  delay(2000);
}

void systemOn() {
  setColor(0, 255, 0);  // Зелёный
  tone(BUZZER, 1000, 100);
  digitalWrite(RELAY, HIGH);
  Serial.println("✓ Система включена");
}

void systemWorking() {
  setColor(255, 255, 0);  // Жёлтый
  digitalWrite(RELAY, HIGH);
  Serial.println("⚙ Система работает");
}

void systemError() {
  setColor(255, 0, 0);  // Красный
  tone(BUZZER, 500, 200);
  delay(100);
  tone(BUZZER, 500, 200);
  digitalWrite(RELAY, LOW);
  Serial.println("❌ Ошибка!");
}

void setColor(int r, int g, int b) {
  analogWrite(R, r);
  analogWrite(G, g);
  analogWrite(B, b);
}
```

---

## 📊 Таблица частот нот

```
┌─────────────────────────────────────────────────────────┐
│ ПОЛНАЯ ТАБЛИЦА ЧАСТОТ НОТ (Hz)                          │
├──────────┬──────┬──────┬──────┬──────┬──────┬──────┬──┐
│ Октава   │ C    │ C#   │ D    │ D#   │ E    │ F    │..│
├──────────┼──────┼──────┼──────┼──────┼──────┼──────┼──┤
│          │      │      │      │      │      │      │  │
│ 0        │ 16   │ 17   │ 18   │ 20   │ 21   │ 22   │..│
│ 1        │ 33   │ 35   │ 37   │ 39   │ 41   │ 44   │..│
│ 2        │ 65   │ 69   │ 73   │ 78   │ 82   │ 87   │..│
│ 3        │ 131  │ 139  │ 147  │ 156  │ 165  │ 175  │..│
│ 4        │ 262  │ 277  │ 294  │ 311  │ 330  │ 349  │..│
│ 5        │ 523  │ 554  │ 587  │ 622  │ 659  │ 698  │..│
│ 6        │ 1047 │ 1109 │ 1175 │ 1245 │ 1319 │ 1397 │..│
│ 7        │ 2093 │ 2217 │ 2349 │ 2489 │ 2637 │ 2794 │..│
│ 8        │ 4186 │ 4435 │ 4699 │ 4978 │ 5274 │ 5588 │..│
│          │      │      │      │      │      │      │  │
└──────────┴──────┴──────┴──────┴──────┴──────┴──────┴──┘

ПОПУЛЯРНЫЕ НОТЫ:
  A4 (ля)  = 440 Hz   (стандартная "камертон")
  C4 (до)  = 262 Hz   (средняя До)
  E4 (ми)  = 330 Hz
  G4 (соль) = 392 Hz

ИСПОЛЬЗУЙ В КОДЕ:
  #define NOTE_C4  262
  #define NOTE_D4  294
  #define NOTE_E4  330
  #define NOTE_F4  349
  #define NOTE_G4  392
  #define NOTE_A4  440
  #define NOTE_B4  494
  #define NOTE_C5  523
  и т.д.
```

---

## 🎓 Рекомендуемый порядок обучения

```
1️⃣  НАЧИНАЮЩИЙ (Этот урок) ↓
    ├─ Реле: управление через digitalWrite()
    ├─ RGB LED: управление через analogWrite()
    ├─ Buzzer: простые сигналы через tone()
    └─ Встроенные функции Arduino

2️⃣  ПРОДВИНУТЫЙ ↓
    ├─ Adafruit NeoPixel (адресуемые LED)
    ├─ FastLED (более сложные эффекты)
    ├─ toneAC (улучшенный звук)
    └─ Множественные реле через I2C

3️⃣  ПРОФЕССИОНАЛЬНЫЙ ↓
    ├─ MIDI протокол
    ├─ Синтез звука
    ├─ Сложные паттерны LED
    └─ Интеграция IoT систем
```

---

## 🆘 Справка по устранению неполадок

### Реле не срабатывает

```
Проверьте:
✓ Контакты дороги в GND?
✓ Питание 5V подано?
✓ Резистор между Arduino и Base транзистора?
✓ Диод защиты подключен?
✓ Пин Arduino установлен в OUTPUT?
✓ digitalWrite отправляет HIGH?

Тест:
  void setup() {
    pinMode(3, OUTPUT);
  }
  void loop() {
    digitalWrite(3, HIGH);
    delay(2000);
    digitalWrite(3, LOW);
    delay(2000);
  }
```

### RGB LED светит неправильный цвет

```
Проблемы:
❌ Перепутаны провода R, G, B
❌ Неправильный тип LED (общий анод вместо катода)
❌ Перегорел один из светодиодов
❌ Неправильный резистор (слишком большой)

Решение:
✓ Проверьте схему подключения
✓ Проверьте тип LED (общий катод = -)
✓ Поменяйте провода местами для теста
✓ Используйте 220-470Ω резисторы

Тест белого цвета:
  setColor(255, 255, 255);
  
Если один цвет отсутствует - проверьте провод
```

### Нет звука из Buzzer

```
Возможные причины:
❌ Перепутаны + и -
❌ Неправильный пин (не PWM пин)
❌ Активный buzzer вместо пассивного
❌ Частота вне диапазона слышимости

Проверка:
✓ Убедитесь, что используете D3, D5, D6, D9, D10, D11
✓ Попробуйте частоту 1000 Hz
✓ Используйте tone() вместо digitalWrite()

Тест:
  void setup() {
    pinMode(9, OUTPUT);
  }
  void loop() {
    tone(9, 1000, 500);
    delay(1000);
  }
```

### Arduino глючит / перезагружается

```
Вероятно: Недостаток питания или скачки напряжения!

Решение:
✓ Используйте отдельный источник питания для реле
✓ Добавьте конденсатор 100мкФ на питание
✓ Используйте оптроизолятор для развязки
✓ Проверьте провода и контакты
✓ Не подключайте высокие напряжения к Arduino

Правильная схема:
  220V устройство → Реле ← Отдельный источник 5V
                            ↓
                          Arduino
```

---

## 📞 Полезные ссылки на ресурсы

### Официальные

- 🔗 Arduino Official: https://www.arduino.cc
- 📖 Arduino Reference: https://www.arduino.cc/reference/en/
- 📚 Arduino Learn: https://learn.arduino.cc

### Библиотеки и примеры

- 📦 Arduino Libraries: https://www.arduino.cc/reference/en/libraries/
- 🐙 GitHub Arduino: https://github.com/arduino
- 📝 Arduino Examples: https://www.arduino.cc/en/Tutorial/BuiltInExamples

### Сообщества

- 💬 Arduino Forum: https://forum.arduino.cc
- 🔴 Reddit r/arduino: https://www.reddit.com/r/arduino/
- 🐦 Arduino Twitter: https://twitter.com/arduino

### Дополнительное обучение

- 🎥 Arduino на YouTube: https://www.youtube.com/c/arduino
- 📚 Adafruit Learning: https://learn.adafruit.com
- 🌐 Arduino Project Hub: https://create.arduino.cc/projecthub

---

## ✅ Чек-лист перед началом

```
Перед началом проекта убедитесь:

ОБОРУДОВАНИЕ:
  ☐ Arduino UNO (или совместимая плата)
  ☐ USB кабель для программирования
  ☐ Макетная плата (breadboard)
  ☐ Перемычки (jumper wires)
  ☐ Резисторы (220Ω, 1кΩ)

КОМПОНЕНТЫ ДЛЯ УРОКА:
  ☐ Реле (SRD-05VDC)
  ☐ RGB LED (4-выводной, общий катод)
  ☐ Пьезозвукоизлучатель
  ☐ Транзистор (2N2222 или аналог)
  ☐ Диод (1N4007)

ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ:
  ☐ Arduino IDE установлена
  ☐ Драйверы USB установлены
  ☐ Плата выбрана (Tools → Board → Arduino Uno)
  ☐ COM порт выбран (Tools → Port)

ЗНАНИЯ:
  ☐ Знаю что такое HIGH/LOW
  ☐ Знаю analogWrite() и digitalWrite()
  ☐ Знаю что такое PWM
  ☐ Прочитал Уроки 1-16
```

---

**Версия:** 1.0

**Дата обновления:** 01.11.2025

**Автор:** Дуплей Максим Игоревич
