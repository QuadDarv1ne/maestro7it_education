'''
https://codeforces.com/contest/2139/problem/B
'''

def cake_collection():
    """
    Функция решает задачу B «Cake Collection» (Codeforces 2139).

    Условие:
    У Мейпл есть n печей. Каждая печь i производит a[i] тортов в секунду.
    За одну секунду Мейпл может телепортироваться к одной печи и забрать все накопившиеся торты из неё,
    после чего эта печь обнуляется.
    Нужно определить максимальное количество тортов, которое она может собрать за m секунд.

    Алгоритм:
    1. Сортируем массив a по убыванию производительности.
    2. Создаём список накопленных тортов для каждой печи.
    3. Используем max-heap (приоритетную очередь), чтобы каждый раз собирать из печи с максимальным количеством накопленных тортов.
    4. На каждой из m секунд:
        - Берём печь с максимальным количеством тортов,
        - Добавляем это количество к общему результату,
        - Увеличиваем её накопление на a[i] (поскольку она продолжает производить торты) и возвращаем в очередь.
    5. В конце выводим максимальное количество собранных тортов.

    Входные данные:
    - Первая строка: t — количество тестов.
    - Далее t блоков:
        - Первая строка каждого блока: n m
        - Вторая строка: n чисел a[i]

    Выходные данные:
    - Для каждого теста максимальное количество тортов.

    Пример:
    Ввод:
    1
    3 4
    1 2 3
    Вывод:
    20
    """
    import heapq

    t = int(input())
    for _ in range(t):
        n, m = map(int, input().split())
        a = list(map(int, input().split()))
        # Используем отрицательные числа для max-heap
        heap = [-x for x in a]
        heapq.heapify(heap)
        total = 0
        for _ in range(m):
            # Берем печь с максимальным количеством тортов
            curr = -heapq.heappop(heap)
            total += curr
            # После сбора добавляем к печи её скорость (торты продолжают производиться)
            heapq.heappush(heap, -(curr + curr))
        print(total)

''' Полезные ссылки: '''
# 1. Telegram ❃ Хижина программиста Æ: https://t.me/hut_programmer_07
# 2. Telegram №1 @quadd4rv1n7
# 3. Telegram №2 @dupley_maxim_1999
# 4. Rutube канал: https://rutube.ru/channel/4218729/
# 5. Plvideo канал: https://plvideo.ru/channel/AUPv_p1r5AQJ
# 6. YouTube канал: https://www.youtube.com/@it-coders
# 7. ВК группа: https://vk.com/science_geeks