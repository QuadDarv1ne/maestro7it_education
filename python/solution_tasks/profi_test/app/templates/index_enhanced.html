{% extends "base.html" %}

{% block title %}Главная - Профориентационное тестирование{% endblock %}

{% block content %}
<!-- Hero секция с современным дизайном -->
<div class="hero-section position-relative overflow-hidden">
    <div class="hero-gradient"></div>
    <div class="container py-5 position-relative">
        <div class="row justify-content-center align-items-center min-vh-75">
            <div class="col-lg-8 text-center">
                <div class="animate-fade-in">
                    <h1 class="display-2 fw-bold text-white mb-4 hero-title">
                        <span class="d-block">Найди профессию</span>
                        <span class="d-block gradient-text">своей мечты</span>
                    </h1>
                    <p class="lead text-white-50 mb-3 fs-3 hero-subtitle">
                        Узнай за 10 минут, какая профессия тебе подходит
                    </p>
                    <p class="text-white-50 mb-4 hero-description">
                        Научно обоснованные методики • Персональные рекомендации • Бесплатно
                    </p>
                    <div class="mt-4 hero-buttons">
                        {% if current_user.is_authenticated %}
                        <a href="{{ url_for('test.methodology') }}" class="btn btn-light btn-lg px-5 py-3 me-3 shadow-lg hero-btn-primary">
                            <i class="fas fa-play-circle me-2"></i> Пройти тест сейчас
                        </a>
                        <a href="{{ url_for('main.profile') }}" class="btn btn-outline-light btn-lg px-5 py-3 hero-btn-secondary">
                            <i class="fas fa-user me-2"></i> Мой профиль
                        </a>
                        {% else %}
                        <a href="{{ url_for('auth.register') }}" class="btn btn-light btn-lg px-5 py-3 me-3 shadow-lg hero-btn-primary pulse-button">
                            <i class="fas fa-rocket me-2"></i> Узнать свою профессию
                        </a>
                        <a href="#how-it-works" class="btn btn-outline-light btn-lg px-5 py-3 hero-btn-secondary smooth-scroll">
                            <i class="fas fa-info-circle me-2"></i> Как это работает
                        </a>
                        {% endif %}
                    </div>
                    
                    <!-- Живая статистика с анимацией -->
                    <div class="mt-5 p-4 bg-white bg-opacity-10 rounded-3 d-inline-block hero-stats">
                        <div class="d-flex align-items-center text-white">
                            <i class="fas fa-users fa-2x me-3"></i>
                            <div>
                                <div class="stat-number display-6 fw-bold mb-0" data-count="1247">0</div>
                                <small>человек прошли тест сегодня</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Анимированные элементы фона -->
    <div class="hero-animations">
        <div class="floating-element element-1"></div>
        <div class="floating-element element-2"></div>
        <div class="floating-element element-3"></div>
    </div>
</div>

<!-- Секция статистики с анимацией -->
<div class="bg-light py-5 stats-section">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 col-6 mb-4 mb-md-0">
                <div class="stat-item animate-on-scroll">
                    <div class="stat-icon mb-3">
                        <i class="fas fa-clipboard-check fa-3x text-primary"></i>
                    </div>
                    <h3 class="display-4 text-primary fw-bold mb-0 stat-counter" data-target="2500">0</h3>
                    <p class="text-muted mb-0">Пройденных тестов</p>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4 mb-md-0">
                <div class="stat-item animate-on-scroll">
                    <div class="stat-icon mb-3">
                        <i class="fas fa-bullseye fa-3x text-success"></i>
                    </div>
                    <h3 class="display-4 text-success fw-bold mb-0">95%</h3>
                    <p class="text-muted mb-0">Точность результатов</p>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item animate-on-scroll">
                    <div class="stat-icon mb-3">
                        <i class="fas fa-clock fa-3x text-info"></i>
                    </div>
                    <h3 class="display-4 text-info fw-bold mb-0">10</h3>
                    <p class="text-muted mb-0">Минут на тест</p>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item animate-on-scroll">
                    <div class="stat-icon mb-3">
                        <i class="fas fa-gift fa-3x text-warning"></i>
                    </div>
                    <h3 class="display-4 text-warning fw-bold mb-0">100%</h3>
                    <p class="text-muted mb-0">Бесплатно</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция "Как это работает" с современным дизайном -->
<div class="container py-5" id="how-it-works">
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h2 class="display-4 fw-bold mb-3 text-gradient">Как это работает</h2>
            <p class="lead text-muted">Четыре простых шага к твоей профессии</p>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3 mb-4">
            <div class="card border-0 shadow-sm h-100 step-card animate-on-scroll">
                <div class="card-body text-center p-4">
                    <div class="step-number mb-4">1</div>
                    <div class="step-icon mb-4">
                        <i class="fas fa-user-plus fa-3x text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Регистрация</h5>
                    <p class="text-muted small">Создайте аккаунт за 30 секунд и начните путь к профессиональной ориентации</p>
                    <div class="step-progress"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="card border-0 shadow-sm h-100 step-card animate-on-scroll">
                <div class="card-body text-center p-4">
                    <div class="step-number mb-4">2</div>
                    <div class="step-icon mb-4">
                        <i class="fas fa-clipboard-list fa-3x text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Тестирование</h5>
                    <p class="text-muted small">Ответьте на 20 продуманных вопросов, которые раскроют ваши склонности</p>
                    <div class="step-progress"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="card border-0 shadow-sm h-100 step-card animate-on-scroll">
                <div class="card-body text-center p-4">
                    <div class="step-number mb-4">3</div>
                    <div class="step-icon mb-4">
                        <i class="fas fa-chart-pie fa-3x text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Результаты</h5>
                    <p class="text-muted small">Получите детальный анализ ваших профессиональных склонностей</p>
                    <div class="step-progress"></div>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-4">
            <div class="card border-0 shadow-sm h-100 step-card animate-on-scroll">
                <div class="card-body text-center p-4">
                    <div class="step-number mb-4">4</div>
                    <div class="step-icon mb-4">
                        <i class="fas fa-graduation-cap fa-3x text-primary"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Рекомендации</h5>
                    <p class="text-muted small">Выберите свой профессиональный путь с уверенностью</p>
                    <div class="step-progress"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция преимуществ с современным дизайном -->
<div class="bg-gradient-primary py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h2 class="display-4 fw-bold mb-3 text-white">Почему выбирают нас</h2>
                <p class="lead text-white-50">Профессиональный подход к выбору профессии</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-lg feature-card animate-on-scroll">
                    <div class="card-body text-center p-5">
                        <div class="feature-icon-large mb-4">
                            <div class="icon-wrapper bg-primary-subtle rounded-circle p-4 d-inline-block">
                                <i class="fas fa-brain fa-3x text-primary"></i>
                            </div>
                        </div>
                        <h3 class="h4 fw-bold mb-3 text-gradient">Научные методики</h3>
                        <p class="text-muted">
                            Используем проверенные психологические методики Климова и Холланда для точного определения профессиональных склонностей
                        </p>
                        <div class="mt-4">
                            <span class="badge bg-primary-subtle text-primary">Проверено</span>
                            <span class="badge bg-success-subtle text-success">Точно</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-lg feature-card animate-on-scroll">
                    <div class="card-body text-center p-5">
                        <div class="feature-icon-large mb-4">
                            <div class="icon-wrapper bg-success-subtle rounded-circle p-4 d-inline-block">
                                <i class="fas fa-chart-line fa-3x text-success"></i>
                            </div>
                        </div>
                        <h3 class="h4 fw-bold mb-3 text-gradient">Персональные рекомендации</h3>
                        <p class="text-muted">
                            Получите индивидуальные рекомендации по выбору профессии, вуза и образовательной траектории
                        </p>
                        <div class="mt-4">
                            <span class="badge bg-info-subtle text-info">Персонально</span>
                            <span class="badge bg-warning-subtle text-warning">Детально</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-lg feature-card animate-on-scroll">
                    <div class="card-body text-center p-5">
                        <div class="feature-icon-large mb-4">
                            <div class="icon-wrapper bg-info-subtle rounded-circle p-4 d-inline-block">
                                <i class="fas fa-shield-alt fa-3x text-info"></i>
                            </div>
                        </div>
                        <h3 class="h4 fw-bold mb-3 text-gradient">Конфиденциальность</h3>
                        <p class="text-muted">
                            Все данные надежно защищены и используются исключительно для профессиональной ориентации
                        </p>
                        <div class="mt-4">
                            <span class="badge bg-secondary-subtle text-secondary">Безопасно</span>
                            <span class="badge bg-danger-subtle text-danger">Конфиденциально</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция с интерактивным примером -->
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 shadow-xl interactive-card">
                <div class="card-body p-5">
                    <div class="text-center mb-5">
                        <span class="badge bg-gradient-primary text-white px-4 py-2">Интерактивный пример</span>
                    </div>
                    <h3 class="text-center mb-5 display-5">Что вам интереснее?</h3>
                    <div class="d-grid gap-4 mb-5">
                        <button class="btn btn-outline-primary btn-lg text-start p-4 option-btn" data-option="1">
                            <i class="fas fa-users fa-2x me-3 float-start"></i>
                            <div>
                                <strong class="d-block">Работать с людьми</strong>
                                <small>обучать, помогать, консультировать</small>
                            </div>
                        </button>
                        <button class="btn btn-outline-primary btn-lg text-start p-4 option-btn" data-option="2">
                            <i class="fas fa-cogs fa-2x me-3 float-start"></i>
                            <div>
                                <strong class="d-block">Работать с техникой</strong>
                                <small>разбираться, чинить, создавать</small>
                            </div>
                        </button>
                        <button class="btn btn-outline-primary btn-lg text-start p-4 option-btn" data-option="3">
                            <i class="fas fa-paint-brush fa-2x me-3 float-start"></i>
                            <div>
                                <strong class="d-block">Работать с искусством</strong>
                                <small>творить, проектировать, создавать красоту</small>
                            </div>
                        </button>
                        <button class="btn btn-outline-primary btn-lg text-start p-4 option-btn" data-option="4">
                            <i class="fas fa-calculator fa-2x me-3 float-start"></i>
                            <div>
                                <strong class="d-block">Работать с информацией</strong>
                                <small>анализировать, обрабатывать, структурировать</small>
                            </div>
                        </button>
                    </div>
                    <div class="result-area d-none">
                        <div class="alert alert-success text-center p-4">
                            <i class="fas fa-check-circle fa-3x mb-3"></i>
                            <h4 class="mb-3">Отличный выбор!</h4>
                            <p>Это лишь один из примеров вопросов теста. Каждый вариант раскрывает разные аспекты вашей профессиональной ориентации.</p>
                        </div>
                    </div>
                    <p class="text-center text-muted mt-4 mb-0">
                        <small><i class="fas fa-lightbulb me-2"></i>Это лишь один из 20 вопросов теста</small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция методик с современным дизайном -->
<div class="bg-light py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h2 class="display-4 fw-bold mb-3 text-gradient">Используемые методики</h2>
                <p class="lead text-muted">Проверенные временем инструменты профориентации</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-4">
                <div class="card border-0 shadow-lg h-100 method-card ready-method animate-on-scroll">
                    <div class="card-body p-5">
                        <div class="d-flex align-items-start mb-4">
                            <div class="method-badge bg-success rounded-circle me-4 flex-shrink-0">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h3 class="text-success mb-3">Методика Климова</h3>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-success-subtle text-success">Готово к использованию</span>
                                    <span class="badge bg-primary-subtle text-primary">20 вопросов</span>
                                    <span class="badge bg-warning-subtle text-warning">Высокая точность</span>
                                </div>
                            </div>
                        </div>
                        <p class="lead mb-4">
                            Дифференциально-диагностический опросник для выявления склонности к одной из пяти типовых сфер труда.
                        </p>
                        <div class="method-spheres">
                            <div class="d-flex flex-wrap gap-3">
                                <span class="sphere-item"><i class="fas fa-seedling text-success me-2"></i>Человек-Природа</span>
                                <span class="sphere-item"><i class="fas fa-wrench text-primary me-2"></i>Человек-Техника</span>
                                <span class="sphere-item"><i class="fas fa-users text-info me-2"></i>Человек-Человек</span>
                                <span class="sphere-item"><i class="fas fa-calculator text-warning me-2"></i>Человек-Знак</span>
                                <span class="sphere-item"><i class="fas fa-palette text-danger me-2"></i>Человек-Художественный образ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="card border-0 shadow h-100 method-card development-method animate-on-scroll opacity-75">
                    <div class="card-body p-5">
                        <div class="d-flex align-items-start mb-4">
                            <div class="method-badge bg-secondary rounded-circle me-4 flex-shrink-0">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h3 class="text-secondary mb-3">Методика Холланда</h3>
                                <div class="d-flex flex-wrap gap-2 mb-3">
                                    <span class="badge bg-secondary-subtle text-secondary">В разработке</span>
                                    <span class="badge bg-info-subtle text-info">120 вопросов</span>
                                    <span class="badge bg-warning-subtle text-warning">6 профессиональных типов</span>
                                </div>
                            </div>
                        </div>
                        <p class="lead mb-4">
                            Опросник профессиональных предпочтений, соотносящий тип личности с профессиональной средой.
                        </p>
                        <div class="method-spheres">
                            <div class="d-flex flex-wrap gap-3">
                                <span class="sphere-item opacity-50"><i class="fas fa-circle text-secondary me-2"></i>Реалистический</span>
                                <span class="sphere-item opacity-50"><i class="fas fa-circle text-secondary me-2"></i>Исследовательский</span>
                                <span class="sphere-item opacity-50"><i class="fas fa-circle text-secondary me-2"></i>Артистический</span>
                                <span class="sphere-item opacity-50"><i class="fas fa-circle text-secondary me-2"></i>Социальный</span>
                                <span class="sphere-item opacity-50"><i class="fas fa-circle text-secondary me-2"></i>Предпринимательский</span>
                                <span class="sphere-item opacity-50"><i class="fas fa-circle text-secondary me-2"></i>Конвенциональный</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция отзывов с каруселью -->
<div class="container py-5 testimonials-section">
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h2 class="display-4 fw-bold mb-3 text-gradient">Что говорят ученики</h2>
            <p class="lead text-muted">Истории успеха наших пользователей</p>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="testimonials-carousel position-relative">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#testimonialsCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                
                <div id="testimonialsCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="8000">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                                <i class="fas fa-star-half-alt text-warning"></i>
                                            </div>
                                            <p class="lead">"Тест помог мне определиться с выбором вуза! Я узнала, что мне подходит работа с людьми, и выбрала педагогический университет."</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-primary"></div>
                                                <div>
                                                    <strong class="d-block">Алина, 11 класс</strong>
                                                    <small class="text-muted">г. Алматы</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Всегда думал, что хочу быть программистом, но тест показал склонность к технике. Теперь учусь на инженера и очень доволен!"</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-success"></div>
                                                <div>
                                                    <strong class="d-block">Даниил, 10 класс</strong>
                                                    <small class="text-muted">г. Астана</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Простой и понятный тест. За 10 минут получила подробный анализ и список подходящих профессий. Рекомендую всем!"</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-info"></div>
                                                <div>
                                                    <strong class="d-block">Айгерим, 9 класс</strong>
                                                    <small class="text-muted">г. Шымкент</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="carousel-item">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Очень помогло в выборе специальности. Теперь точно знаю, что хочу стать врачом. Спасибо за профессиональный подход!"</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-warning"></div>
                                                <div>
                                                    <strong class="d-block">Евгения, 11 класс</strong>
                                                    <small class="text-muted">г. Караганда</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Отличная альтернатива дорогостоящим консультациям психологов. Результаты очень точные и полезные."</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-danger"></div>
                                                <div>
                                                    <strong class="d-block">Роман, 10 класс</strong>
                                                    <small class="text-muted">г. Атырау</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Помогло понять свои сильные стороны. Теперь уверенно иду к цели - стать дизайнером интерфейсов."</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-purple"></div>
                                                <div>
                                                    <strong class="d-block">Анна, 11 класс</strong>
                                                    <small class="text-muted">г. Актау</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="carousel-item">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Тест раскрыл мои скрытые способности. Оказалось, что у меня есть склонность к анализу данных."</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-teal"></div>
                                                <div>
                                                    <strong class="d-block">Максим, 9 класс</strong>
                                                    <small class="text-muted">г. Костанай</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Рекомендую всем школьникам! Помогает сэкономить время на поиски подходящей профессии."</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-orange"></div>
                                                <div>
                                                    <strong class="d-block">Светлана, 10 класс</strong>
                                                    <small class="text-muted">г. Павлодар</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="card testimonial-card h-100">
                                        <div class="card-body p-4">
                                            <div class="mb-4">
                                                {% for i in range(5) %}
                                                    <i class="fas fa-star text-warning me-1"></i>
                                                {% endfor %}
                                            </div>
                                            <p class="lead">"Очень точные результаты. Совпадают с моими интересами и способностями. Спасибо за отличный сервис!"</p>
                                            <div class="d-flex align-items-center mt-4">
                                                <div class="avatar-placeholder me-3 bg-pink"></div>
                                                <div>
                                                    <strong class="d-block">Дарья, 11 класс</strong>
                                                    <small class="text-muted">г. Уральск</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="carousel-control-prev" type="button" data-bs-target="#testimonialsCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Предыдущий</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#testimonialsCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Следующий</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Секция FAQ с аккордеоном -->
<div class="bg-gradient-secondary py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h2 class="display-4 fw-bold mb-3 text-white">Частые вопросы</h2>
                <p class="lead text-white-50">Ответы на популярные вопросы</p>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion accordion-flush" id="faqAccordion">
                    <div class="accordion-item bg-white rounded-3 shadow-sm mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                <i class="fas fa-clock me-3 text-primary"></i>
                                Сколько времени занимает тестирование?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Тестирование занимает всего 10-15 минут. Вам нужно ответить на 20 вопросов, выбирая наиболее подходящий вариант.</p>
                                <div class="progress mt-3" style="height: 8px;">
                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 75%"></div>
                                </div>
                                <small class="text-muted">Среднее время прохождения: 12 минут</small>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item bg-white rounded-3 shadow-sm mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                <i class="fas fa-gift me-3 text-success"></i>
                                Это действительно бесплатно?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Да, тестирование полностью бесплатно. Вы получите детальные результаты и рекомендации без каких-либо платежей.</p>
                                <div class="d-flex gap-2 mt-3">
                                    <span class="badge bg-success-subtle text-success">Бесплатно</span>
                                    <span class="badge bg-info-subtle text-info">Без регистрации</span>
                                    <span class="badge bg-warning-subtle text-warning">Без SMS</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item bg-white rounded-3 shadow-sm mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                <i class="fas fa-bullseye me-3 text-info"></i>
                                Насколько точны результаты?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Мы используем проверенные научные методики с точностью более 95%. Однако результаты - это рекомендации, финальное решение всегда за вами.</p>
                                <div class="mt-3">
                                    <div class="d-flex justify-content-between mb-2">
                                        <small>Точность методики Климова</small>
                                        <small>95%</small>
                                    </div>
                                    <div class="progress" style="height: 6px;">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 95%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item bg-white rounded-3 shadow-sm mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                <i class="fas fa-users me-3 text-warning"></i>
                                Для кого предназначен этот тест?
                            </button>
                        </h2>
                        <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Тест предназначен для школьников 9-11 классов и абитуриентов, которые выбирают профессию и учебное заведение.</p>
                                <div class="mt-3">
                                    <span class="badge bg-primary-subtle text-primary me-2">9 класс</span>
                                    <span class="badge bg-primary-subtle text-primary me-2">10 класс</span>
                                    <span class="badge bg-primary-subtle text-primary me-2">11 класс</span>
                                    <span class="badge bg-success-subtle text-success">Абитуриенты</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item bg-white rounded-3 shadow-sm mb-3">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                                <i class="fas fa-shield-alt me-3 text-danger"></i>
                                Как обеспечивается конфиденциальность?
                            </button>
                        </h2>
                        <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Все ваши данные надежно защищены. Мы используем современные методы шифрования и не передаем информацию третьим лицам.</p>
                                <div class="d-flex gap-2 mt-3">
                                    <span class="badge bg-danger-subtle text-danger">SSL шифрование</span>
                                    <span class="badge bg-secondary-subtle text-secondary">GDPR совместимо</span>
                                    <span class="badge bg-dark-subtle text-dark">Без передачи данных</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Финальная CTA секция с современным дизайном -->
<div class="container py-5">
    <div class="row">
        <div class="col-12">
            <div class="card border-0 shadow-xl cta-card position-relative overflow-hidden">
                <div class="cta-gradient"></div>
                <div class="card-body p-5 text-center position-relative">
                    <div class="mb-5">
                        <div class="cta-icon mb-4">
                            <i class="fas fa-rocket fa-4x text-white"></i>
                        </div>
                        <h2 class="display-4 fw-bold text-white mb-4">Готов определить свою профессиональную стихию?</h2>
                        <p class="lead text-white-50 mb-5">
                            Пройди профессиональное тестирование и получи персональные рекомендации
                        </p>
                    </div>
                    <div class="cta-buttons">
                        {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('auth.register') }}" class="btn btn-light btn-lg px-5 py-3 me-3 shadow-lg pulse-button cta-btn">
                            <i class="fas fa-rocket me-2"></i> Начать прямо сейчас
                        </a>
                        <a href="#how-it-works" class="btn btn-outline-light btn-lg px-5 py-3 smooth-scroll cta-btn">
                            <i class="fas fa-info-circle me-2"></i> Узнать больше
                        </a>
                        {% else %}
                        <a href="{{ url_for('test.methodology') }}" class="btn btn-light btn-lg px-5 py-3 me-3 shadow-lg pulse-button cta-btn">
                            <i class="fas fa-play-circle me-2"></i> Пройти тест
                        </a>
                        <a href="{{ url_for('main.profile') }}" class="btn btn-outline-light btn-lg px-5 py-3 cta-btn">
                            <i class="fas fa-user me-2"></i> Мой профиль
                        </a>
                        {% endif %}
                    </div>
                    <div class="cta-features mt-5">
                        <p class="text-white-50 mb-0">
                            <span class="feature-badge"><i class="fas fa-lock me-2"></i>Конфиденциально</span>
                            <span class="feature-badge"><i class="fas fa-clock me-2"></i>10 минут</span>
                            <span class="feature-badge"><i class="fas fa-gift me-2"></i>Бесплатно</span>
                            <span class="feature-badge"><i class="fas fa-bullseye me-2"></i>95% точность</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Современные CSS переменные */
:root {
    --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --gradient-success: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    --gradient-info: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    --gradient-warning: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
    --gradient-danger: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
    --gradient-purple: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
    --gradient-teal: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%);
    --gradient-orange: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
    --gradient-pink: linear-gradient(135deg, #ff9472 0%, #f2709c 100%);
}

/* Hero секция */
.hero-section {
    background: var(--gradient-primary);
    min-height: 85vh;
    position: relative;
    overflow: hidden;
}

.hero-gradient {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ffffff' fill-opacity='0.05' d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'%3E%3C/path%3E%3C/svg%3E");
    opacity: 0.3;
}

.min-vh-75 {
    min-height: 75vh;
}

/* Текстовые улучшения */
.hero-title {
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    letter-spacing: -0.5px;
}

.gradient-text {
    background: linear-gradient(45deg, #fff, #e0e0e0);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Анимации */
@keyframes fadeInUp {
    from { 
        opacity: 0; 
        transform: translateY(30px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

@keyframes fadeIn {
    from { 
        opacity: 0; 
        transform: translateY(20px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

@keyframes pulse {
    0%, 100% { 
        transform: scale(1); 
        box-shadow: 0 0 0 0 rgba(255,255,255,0.7);
    }
    50% { 
        transform: scale(1.05); 
        box-shadow: 0 0 0 15px rgba(255,255,255,0);
    }
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.animate-fade-in {
    animation: fadeIn 0.8s ease-out;
}

.animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out;
}

.pulse-button {
    animation: pulse 2s infinite;
    transition: all 0.3s ease;
}

.pulse-button:hover {
    animation: none;
    transform: scale(1.05);
}

/* Эффекты при наведении */
.hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.2) !important;
}

/* Номера шагов */
.step-number {
    width: 60px;
    height: 60px;
    background: var(--gradient-primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: bold;
    margin: 0 auto;
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    transition: all 0.3s ease;
}

.step-card:hover .step-number {
    transform: scale(1.1);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
}

/* Прогресс шагов */
.step-progress {
    height: 4px;
    background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
    border-radius: 2px;
    width: 0%;
    transition: width 0.5s ease;
    margin-top: 1rem;
}

.step-card:hover .step-progress {
    width: 100%;
}

/* Карточки функций */
.feature-card {
    transition: all 0.4s ease;
    border-radius: 20px;
    overflow: hidden;
}

.feature-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 20px 40px rgba(0,0,0,0.15) !important;
}

.icon-wrapper {
    transition: all 0.3s ease;
}

.feature-card:hover .icon-wrapper {
    transform: scale(1.1) rotate(5deg);
}

/* Интерактивные элементы */
.option-btn {
    transition: all 0.3s ease;
    border-width: 2px;
    position: relative;
    overflow: hidden;
}

.option-btn:hover {
    transform: translateX(10px);
    border-color: #667eea;
    background: rgba(102, 126, 234, 0.05);
}

.option-btn.selected {
    border-color: #667eea;
    background: rgba(102, 126, 234, 0.1);
    box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
}

.option-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
}

.option-btn:hover::before {
    left: 100%;
}

/* Методики */
.method-badge {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 24px;
    font-weight: bold;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.sphere-item {
    padding: 0.5rem 1rem;
    background: rgba(102, 126, 234, 0.1);
    border-radius: 50px;
    transition: all 0.3s ease;
    margin-bottom: 0.5rem;
}

.sphere-item:hover {
    background: rgba(102, 126, 234, 0.2);
    transform: translateY(-2px);
}

/* Отзывы */
.testimonial-card {
    transition: all 0.3s ease;
    border-radius: 15px;
    overflow: hidden;
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15) !important;
}

.avatar-placeholder {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
}

/* CTA карточка */
.cta-card {
    background: var(--gradient-primary);
    border-radius: 25px;
    overflow: hidden;
}

.cta-gradient {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ffffff' fill-opacity='0.05' d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z'%3E%3C/path%3E%3C/svg%3E");
    opacity: 0.2;
}

.cta-icon {
    animation: float 3s ease-in-out infinite;
}

.feature-badge {
    margin: 0 1rem;
    padding: 0.5rem 1rem;
    border-radius: 50px;
    background: rgba(255,255,255,0.2);
    transition: all 0.3s ease;
}

.feature-badge:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-2px);
}

/* Анимированные элементы фона */
.hero-animations {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.floating-element {
    position: absolute;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    animation: float 6s ease-in-out infinite;
}

.element-1 {
    width: 80px;
    height: 80px;
    top: 20%;
    left: 10%;
    animation-delay: 0s;
}

.element-2 {
    width: 120px;
    height: 120px;
    top: 60%;
    right: 15%;
    animation-delay: 2s;
}

.element-3 {
    width: 60px;
    height: 60px;
    bottom: 20%;
    left: 20%;
    animation-delay: 4s;
}

/* Анимация при скролле */
.animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease;
}

.animate-on-scroll.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Счетчики статистики */
.stat-counter {
    transition: all 0.5s ease;
}

.stat-number {
    font-weight: 700;
    transition: all 1s ease;
}

/* Градиенты для секций */
.bg-gradient-primary {
    background: var(--gradient-primary);
}

.bg-gradient-secondary {
    background: var(--gradient-secondary);
}

/* Адаптивность */
@media (max-width: 768px) {
    .hero-section {
        min-height: 70vh;
    }
    
    .display-2 {
        font-size: 2.5rem;
    }
    
    .display-4 {
        font-size: 2rem;
    }
    
    .display-5 {
        font-size: 1.75rem;
    }
    
    .hero-buttons {
        flex-direction: column;
        gap: 1rem;
    }
    
    .hero-btn-primary,
    .hero-btn-secondary {
        width: 100%;
        margin: 0 !important;
    }
    
    .step-card,
    .feature-card,
    .method-card {
        margin-bottom: 2rem;
    }
    
    .feature-badge {
        display: block;
        margin: 0.5rem 0;
    }
    
    .cta-buttons {
        flex-direction: column;
        gap: 1rem;
    }
    
    .cta-btn {
        width: 100%;
        margin: 0 !important;
    }
}

/* Улучшения для интерактивности */
.smooth-scroll {
    transition: all 0.3s ease;
}

.smooth-scroll:hover {
    transform: translateY(-2px);
}

/* Стили для аккордеона */
.accordion-button:not(.collapsed) {
    background: var(--gradient-primary);
    color: white;
    box-shadow: none;
}

.accordion-button:focus {
    box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
    border-color: rgba(102, 126, 234, 0.5);
}

/* Карусель отзывов */
.carousel-control-prev,
.carousel-control-next {
    width: 5%;
    opacity: 0.7;
    transition: all 0.3s ease;
}

.carousel-control-prev:hover,
.carousel-control-next:hover {
    opacity: 1;
    transform: scale(1.1);
}

.carousel-indicators [data-bs-target] {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(102, 126, 234, 0.5);
    border: none;
    transition: all 0.3s ease;
}

.carousel-indicators .active {
    background: #667eea;
    transform: scale(1.2);
}

/* Улучшенные тени */
.shadow-xl {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

/* Плавная прокрутка */
html {
    scroll-behavior: smooth;
}

/* Улучшение читаемости */
p {
    line-height: 1.8;
    letter-spacing: 0.2px;
}

/* Стили для бейджей */
.badge {
    font-weight: 500;
    padding: 0.6em 0.9em;
    border-radius: 50px;
}

/* Цветовые вариации */
.bg-primary-subtle { background-color: rgba(102, 126, 234, 0.1) !important; }
.bg-success-subtle { background-color: rgba(67, 233, 123, 0.1) !important; }
.bg-info-subtle { background-color: rgba(79, 172, 254, 0.1) !important; }
.bg-warning-subtle { background-color: rgba(250, 112, 154, 0.1) !important; }
.bg-danger-subtle { background-color: rgba(255, 107, 107, 0.1) !important; }
.bg-secondary-subtle { background-color: rgba(108, 117, 125, 0.1) !important; }
.bg-dark-subtle { background-color: rgba(33, 37, 41, 0.1) !important; }

.text-primary-subtle { color: rgba(102, 126, 234, 0.8) !important; }
.text-success-subtle { color: rgba(67, 233, 123, 0.8) !important; }
.text-info-subtle { color: rgba(79, 172, 254, 0.8) !important; }
.text-warning-subtle { color: rgba(250, 112, 154, 0.8) !important; }
.text-danger-subtle { color: rgba(255, 107, 107, 0.8) !important; }
.text-secondary-subtle { color: rgba(108, 117, 125, 0.8) !important; }
.text-dark-subtle { color: rgba(33, 37, 41, 0.8) !important; }

/* Дополнительные цвета */
.bg-purple { background: var(--gradient-purple); }
.bg-teal { background: var(--gradient-teal); }
.bg-orange { background: var(--gradient-orange); }
.bg-pink { background: var(--gradient-pink); }
</style>

<script>
// Анимация счетчиков статистики
document.addEventListener('DOMContentLoaded', function() {
    // Анимация счетчиков
    const statCounters = document.querySelectorAll('.stat-counter');
    const statNumbers = document.querySelectorAll('.stat-number');
    
    const animateCounter = (element, target) => {
        let count = 0;
        const increment = target / 100;
        const timer = setInterval(() => {
            count += increment;
            if (count >= target) {
                element.textContent = target;
                clearInterval(timer);
            } else {
                element.textContent = Math.floor(count);
            }
        }, 20);
    };
    
    // Intersection Observer для анимации при скролле
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                
                // Анимация счетчиков при видимости
                if (entry.target.classList.contains('stat-item')) {
                    const counter = entry.target.querySelector('.stat-counter');
                    if (counter) {
                        const target = parseInt(counter.dataset.target || counter.textContent);
                        animateCounter(counter, target);
                    }
                }
            }
        });
    }, { threshold: 0.1 });
    
    // Наблюдение за элементами с анимацией
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
    });
    
    // Анимация живой статистики
    const heroStat = document.querySelector('.stat-number');
    if (heroStat) {
        const target = parseInt(heroStat.dataset.count || 0);
        animateCounter(heroStat, target);
    }
    
    // Интерактивность кнопок выбора
    const optionButtons = document.querySelectorAll('.option-btn');
    optionButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Убираем выделение у всех кнопок
            optionButtons.forEach(btn => btn.classList.remove('selected'));
            
            // Добавляем выделение текущей кнопке
            this.classList.add('selected');
            
            // Показываем результат
            const resultArea = document.querySelector('.result-area');
            if (resultArea) {
                resultArea.classList.remove('d-none');
                resultArea.classList.add('animate-fade-in-up');
            }
        });
    });
    
    // Плавная прокрутка для ссылок
    document.querySelectorAll('.smooth-scroll').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // Анимация карточек при наведении
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Обновление счетчика уведомлений
    function updateNotificationCount() {
        fetch('/api/notifications/unread-count', { credentials: 'same-origin' })
            .then(response => response.json())
            .then(data => {
                const counter = document.getElementById('notificationCount');
                if (counter && data.unread_count > 0) {
                    counter.textContent = data.unread_count;
                    counter.classList.remove('d-none');
                }
            })
            .catch(err => console.error('Ошибка загрузки счетчика уведомлений:', err));
    }
    
    // Обновляем счетчик каждые 30 секунд
    setInterval(updateNotificationCount, 30000);
    updateNotificationCount(); // Первый вызов
    
    // Анимация фона при движении мыши
    const heroSection = document.querySelector('.hero-section');
    if (heroSection) {
        heroSection.addEventListener('mousemove', (e) => {
            const x = (e.clientX / window.innerWidth - 0.5) * 20;
            const y = (e.clientY / window.innerHeight - 0.5) * 20;
            
            heroSection.style.backgroundPosition = `${50 + x}% ${50 + y}%`;
        });
    }
});
</script>
{% endblock %}