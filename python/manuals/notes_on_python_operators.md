# Операторы присваивания в Python

## Введение

Операторы присваивания используются для присвоения значений переменным. В Python существуют как базовые, так и составные (усиленные) операторы присваивания.

## Базовый оператор присваивания

- `=` — присваивает значение справа от оператора переменной слева
  - Пример: `x = 10`

## Составные (усиленные) операторы присваивания

Составные операторы присваивания объединяют арифметическую или побитовую операцию с присваиванием. Они выполняют соответствующую операцию над переменной и другим значением, а затем присваивают результат обратно этой же переменной.

### Арифметические составные операторы

- `+=` — сложение с присваиванием
  - Запись `a += b` эквивалентна `a = a + b`
  - Пример:
    ```python
    x = 5
    x += 3      # то же самое, что x = x + 3
    print(x)    # 8
    ```

- `-=` — вычитание с присваиванием
  - Запись `a -= b` эквивалентна `a = a - b`
  - Пример:
    ```python
    y = 10
    y -= 4      # то же самое, что y = y - 4
    print(y)    # 6
    ```

- `*=` — умножение с присваиванием
  - Запись `a *= b` эквивалентна `a = a * b`
  - Пример:
    ```python
    z = 3
    z *= 4      # то же самое, что z = z * 4
    print(z)    # 12
    ```

- `/=` — деление с присваиванием
  - Запись `a /= b` эквивалентна `a = a / b`
  - Результат всегда будет числом с плавающей точкой
  - Пример:
    ```python
    w = 10
    w /= 3      # то же самое, что w = w / 3
    print(w)    # 3.3333333333333335
    ```

- `//=` — целочисленное деление с присваиванием
  - Запись `a //= b` эквивалентна `a = a // b`
  - Результат округляется вниз до ближайшего целого
  - Пример:
    ```python
    v = 10
    v //= 3     # то же самое, что v = v // 3
    print(v)    # 3
    ```

- `%=` — остаток от деления с присваиванием
  - Запись `a %= b` эквивалентна `a = a % b`
  - Пример:
    ```python
    u = 10
    u %= 3      # то же самое, что u = u % 3
    print(u)    # 1
    ```

- `**=` — возведение в степень с присваиванием
  - Запись `a **= b` эквивалентна `a = a ** b`
  - Пример:
    ```python
    t = 2
    t **= 3     # то же самое, что t = t ** 3
    print(t)    # 8
    ```

### Побитовые составные операторы

- `<<=` — побитовый сдвиг влево с присваиванием
  - Запись `a <<= b` полностью эквивалентна `a = a << b`
  - Число `a` сдвигается влево на `b` бит (что примерно равносильно умножению на 2**b), и результат сохраняется в `a`
  - Пример:
    ```python
    x = 5          # двоичное 101
    x <<= 1        # сдвиг влево на 1 → 1010 (десятичное 10)
    print(x)       # 10
    ```

- `>>=` — побитовый сдвиг вправо с присваиванием
  - Запись `a >>= b` означает `a = a >> b`
  - Число `a` сдвигается вправо на `b` бит (целочисленное деление на 2**b), результат присваивается `a`
  - Пример:
    ```python
    y = 16         # двоичное 10000
    y >>= 2        # сдвиг вправо на 2 → 100 (десятичное 4)
    print(y)       # 4
    ```

- `|=` — побитовое ИЛИ с присваиванием
  - Запись `a |= b` эквивалентна `a = a | b`
  - Выполняется побитовая операция ИЛИ между `a` и `b`, результат записывается в `a`
  - Пример с числами:
    ```python
    flags = 0b0011   # двоичное 0011
    flags |= 0b1100  # побитовое ИЛИ → 1111 (десятичное 15)
    print(flags)     # 15
    ```

- `&=` — побитовое И с присваиванием
  - Запись `a &= b` эквивалентна `a = a & b`
  - Выполняется побитовая операция И между `a` и `b`, результат записывается в `a`
  - Пример:
    ```python
    bits = 0b1100
    bits &= 0b1010  # побитовое И → 1000 (десятичное 8)
    print(bits)     # 8
    ```

- `^=` — побитовое исключающее ИЛИ с присваиванием
  - Запись `a ^= b` эквивалентна `a = a ^ b`
  - Выполняется побитовая операция XOR между `a` и `b`, результат записывается в `a`
  - Пример:
    ```python
    val = 0b1010
    val ^= 0b1100  # XOR → 0110 (десятичное 6)
    print(val)     # 6
    ```

- `~` — побитовое НЕ (унарный оператор)
  - Запись `~a` возвращает инвертированное значение `a`
  - Формула: `~a = -(a + 1)`
  - Пример:
    ```python
    a = 5
    print(~a)      # -6
    ```

### Применение операторов к другим типам данных

Эти операторы работают не только с целыми числами, но и с другими типами, поддерживающими соответствующие операции:

- `+=` может использоваться со строками для конкатенации:
  ```python
  text = "Hello"
  text += " World"  # то же самое, что text = text + " World"
  print(text)       # Hello World
  ```

- `*=` может использоваться со строками для повторения:
  ```python
  line = "="
  line *= 10       # то же самое, что line = line * 10
  print(line)      # ==========
  ```

- `|=` часто используется с множествами (set) для объединения:
  ```python
  s = {1, 2}
  s |= {2, 3}       # объединение множеств, теперь s = {1, 2, 3}
  print(s)          # {1, 2, 3}
  ```

- `&=` используется с множествами для пересечения:
  ```python
  set1 = {1, 2, 3, 4}
  set1 &= {2, 3, 5, 6}  # пересечение множеств
  print(set1)           # {2, 3}
  ```

## Преимущества составных операторов

- **Краткость записи** — код становится более компактным
- **Оптимизация** — в некоторых случаях переменная вычисляется только один раз
- **Читаемость** — код легче читать и понимать
- **Повторное использование переменной** — нет необходимости повторять имя переменной

## Практические примеры использования

### Подсчет суммы элементов списка
```python
numbers = [1, 2, 3, 4, 5]
total = 0
for num in numbers:
    total += num    # вместо total = total + num
print(total)        # 15
```

### Работа с флагами
```python
# Использование побитовых операций для работы с флагами
READ_PERMISSION = 0b001
WRITE_PERMISSION = 0b010
EXECUTE_PERMISSION = 0b100

user_permissions = READ_PERMISSION
user_permissions |= WRITE_PERMISSION  # добавление права на запись
print(bin(user_permissions))          # 0b11
```

### Манипуляции с битами
```python
# Установка конкретного бита в 1
value = 0b1010
bit_position = 1
value |= (1 << bit_position)  # установка бита в позиции 1
print(bin(value))              # 0b1010 (не изменилось, так как бит уже был 1)

# Переключение конкретного бита
value ^= (1 << bit_position)  # переключение бита в позиции 1
print(bin(value))              # 0b1000
```

## Итоговые выводы

> **Составные операторы присваивания** — мощный инструмент, который делает код более кратким и эффективным. Их правильное использование улучшает читаемость кода и помогает избежать ошибок при повторном написании имени переменной.
