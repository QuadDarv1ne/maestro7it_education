# Production Environment Configuration
# ВАЖНО: Не коммитьте этот файл с реальными значениями!

# Flask
SECRET_KEY=your-super-secret-production-key-change-this
FLASK_ENV=production
FLASK_DEBUG=False

# Database
DATABASE_URL=postgresql://user:password@postgres:5432/chess_calendar_prod
SQLALCHEMY_POOL_SIZE=20
SQLALCHEMY_MAX_OVERFLOW=40
SQLALCHEMY_POOL_TIMEOUT=30
SQLALCHEMY_POOL_RECYCLE=3600

# Redis
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50

# Celery
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# Security
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Strict
CSRF_ENABLED=True

# Rate Limiting
RATELIMIT_STORAGE_URL=redis://redis:6379/1
RATELIMIT_DEFAULT=1000 per day;100 per hour

# Email
EMAIL_NOTIFICATIONS_ENABLED=True
EMAIL_FROM=noreply@chesscalendar.ru
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=True

# Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Microservices URLs
TOURNAMENT_SERVICE_URL=http://tournament-service:5001
USER_SERVICE_URL=http://user-service:5002
PARSER_SERVICE_URL=http://parser-service:5003
CDN_SERVICE_URL=http://cdn-service:5004
IMAGE_SERVICE_URL=http://image-optimization-service:5005
CALENDAR_SERVICE_URL=http://calendar-service:5006
NOTIFICATION_SERVICE_URL=http://notification-service:5007
RECOMMENDATION_SERVICE_URL=http://recommendation-service:5008
FAVORITES_SERVICE_URL=http://favorites-service:5009

# Flower (Celery monitoring)
FLOWER_USER=admin
FLOWER_PASSWORD=change-this-secure-password

# Logging
LOG_LEVEL=INFO
JSON_LOGS=True

# Cache
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://redis:6379/2
CACHE_DEFAULT_TIMEOUT=300

# CDN
CDN_PROVIDER=cloudflare
CDN_URL=https://cdn.chesscalendar.ru

# Backup
BACKUP_ENABLED=True
BACKUP_SCHEDULE=0 4 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=chess-calendar-backups
BACKUP_S3_REGION=eu-central-1

# Performance
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=5

# Feature Flags
ENABLE_AB_TESTING=True
ENABLE_ANALYTICS=True
ENABLE_RECOMMENDATIONS=True
ENABLE_WEBSOCKETS=True
