/* No Overlap Fix CSS */
/* Специальные исправления для предотвращения наложения элементов */

/* ============================================
   GLOBAL FLEX FIXES
   ============================================ */

/* Ensure all flex containers wrap properly */
.d-flex,
.d-inline-flex,
[class*="d-flex"],
[class*="d-inline-flex"] {
    flex-wrap: wrap;
    gap: 0.5rem;
}

/* Prevent flex children from overflowing */
.d-flex > *,
.d-inline-flex > *,
[class*="d-flex"] > *,
[class*="d-inline-flex"] > * {
    min-width: 0;
    min-height: 0;
    flex-shrink: 1;
}

/* ============================================
   CARD HEADER FIXES
   ============================================ */

/* Prevent badges from overlapping in card headers */
.card-header {
    overflow: hidden;
}

.card-header .d-flex {
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: flex-start;
}

.card-header .badge,
.card-header .tournament-badge {
    flex-shrink: 0;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ============================================
   BUTTON FIXES
   ============================================ */

/* Ensure buttons don't overflow their containers */
.btn {
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Button groups should wrap */
.btn-group,
.btn-toolbar {
    flex-wrap: wrap;
    gap: 0.5rem;
}

/* ============================================
   NAVBAR FIXES
   ============================================ */

/* Prevent navbar items from overlapping */
.navbar {
    overflow: visible;
}

.navbar .container,
.navbar .container-fluid {
    flex-wrap: wrap;
    gap: 0.5rem;
}

.navbar-brand {
    flex-shrink: 0;
    max-width: 50%;
}

.navbar-toggler {
    flex-shrink: 0;
}

.navbar-collapse {
    flex-basis: 100%;
    flex-grow: 1;
}

.navbar-nav {
    flex-wrap: wrap;
    gap: 0.25rem;
}

.navbar-nav .nav-item {
    flex-shrink: 0;
}

/* Search container should shrink if needed */
.search-container {
    flex-shrink: 1;
    min-width: 150px;
    max-width: 100%;
}

/* ============================================
   TEXT OVERFLOW FIXES
   ============================================ */

/* Prevent long text from breaking layout */
.card-title,
.card-text,
h1, h2, h3, h4, h5, h6,
p, span, div {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

/* ============================================
   GRID FIXES
   ============================================ */

/* Ensure grid items don't overflow */
.row {
    margin-left: -0.5rem;
    margin-right: -0.5rem;
}

.row > * {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
    min-width: 0;
}

/* ============================================
   RESPONSIVE FIXES
   ============================================ */

/* Tablets and below */
@media (max-width: 991px) {
    /* Stack navbar items */
    .navbar-collapse {
        margin-top: 1rem;
    }
    
    .navbar-nav {
        flex-direction: column;
        width: 100%;
    }
    
    .navbar-nav .nav-item {
        width: 100%;
    }
    
    .search-container {
        width: 100%;
        max-width: 100%;
        margin: 0.5rem 0;
    }
    
    /* Card headers should stack */
    .card-header .d-flex {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* Mobile phones */
@media (max-width: 767px) {
    /* Ensure all flex containers stack on mobile */
    .card-header .d-flex,
    .card-body .d-flex {
        flex-direction: column;
        align-items: stretch;
    }
    
    /* Full width buttons on mobile */
    .card-body .btn,
    .card-footer .btn {
        width: 100%;
    }
    
    /* Badges should be full width on mobile */
    .card-header .badge,
    .card-header .tournament-badge {
        width: 100%;
        text-align: center;
    }
}

/* Small mobile */
@media (max-width: 575px) {
    /* Extra precautions for small screens */
    .d-flex:not(.navbar-nav) {
        flex-direction: column;
        align-items: stretch;
    }
    
    .d-flex > * {
        width: 100%;
        max-width: 100%;
    }
    
    /* Navbar brand should be smaller */
    .navbar-brand {
        font-size: 1rem;
        max-width: 60%;
    }
    
    /* Reduce padding to save space */
    .card-header,
    .card-body,
    .card-footer {
        padding: 0.75rem;
    }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Force no wrap */
.no-wrap {
    flex-wrap: nowrap !important;
}

/* Force wrap */
.force-wrap {
    flex-wrap: wrap !important;
}

/* Prevent shrink */
.no-shrink {
    flex-shrink: 0 !important;
}

/* Allow shrink */
.allow-shrink {
    flex-shrink: 1 !important;
}

/* Full width */
.full-width {
    width: 100% !important;
    max-width: 100% !important;
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

/* Ensure focus states are visible */
*:focus {
    outline: 2px solid #2563eb;
    outline-offset: 2px;
}

/* Skip to main content link */
.skip-to-main:focus {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9999;
}

/* ============================================
   PRINT FIXES
   ============================================ */

@media print {
    /* Remove overlapping elements in print */
    .navbar,
    .footer,
    .mobile-bottom-nav {
        display: none !important;
    }
    
    .card {
        break-inside: avoid;
        page-break-inside: avoid;
    }
}
