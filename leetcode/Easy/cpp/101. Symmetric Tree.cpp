/**
 * https://leetcode.com/problems/symmetric-tree/description/
 */

/**
 * ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ ÑƒĞ·Ğ»Ğ° Ğ±Ğ¸Ğ½Ğ°Ñ€Ğ½Ğ¾Ğ³Ğ¾ Ğ´ĞµÑ€ĞµĞ²Ğ°.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */

class Solution {
public:
    /**
     * ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ»Ğ¸ Ğ±Ğ¸Ğ½Ğ°Ñ€Ğ½Ğ¾Ğµ Ğ´ĞµÑ€ĞµĞ²Ğ¾ Ğ·ĞµÑ€ĞºĞ°Ğ»ÑŒĞ½Ğ¾ ÑĞ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ‡Ğ½Ñ‹Ğ¼ Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑĞ²Ğ¾ĞµĞ³Ğ¾ ĞºĞ¾Ñ€Ğ½Ñ.
     *
     * ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼:
     * 1. Ğ¡Ğ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ Ğ¾Ğ·Ğ½Ğ°Ñ‡Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ Ğ»ĞµĞ²Ğ¾Ğµ Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€ĞµĞ²Ğ¾ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ·ĞµÑ€ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸.
     * 2. Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ²ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ isMirror(t1, t2).
     *    - Ğ•ÑĞ»Ğ¸ Ğ¾Ğ±Ğ° ÑƒĞ·Ğ»Ğ° Ñ€Ğ°Ğ²Ğ½Ñ‹ nullptr â†’ ÑÑ‚Ğ¾ ÑĞ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ.
     *    - Ğ•ÑĞ»Ğ¸ Ğ¾Ğ´Ğ¸Ğ½ nullptr, Ğ° Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ½ĞµÑ‚ â†’ ÑÑ‚Ğ¾ Ğ°ÑĞ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ.
     *    - Ğ•ÑĞ»Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ ÑƒĞ·Ğ»Ğ¾Ğ² Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ°ÑÑ‚ÑÑ â†’ ÑÑ‚Ğ¾ Ğ°ÑĞ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ.
     *    - Ğ˜Ğ½Ğ°Ñ‡Ğµ Ñ€ĞµĞºÑƒÑ€ÑĞ¸Ğ²Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼:
     *         â€¢ Ğ»ĞµĞ²Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ğ¾Ğº t1 Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ğ¾Ğº t2
     *         â€¢ Ğ¿Ñ€Ğ°Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ğ¾Ğº t1 Ğ¸ Ğ»ĞµĞ²Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼Ğ¾Ğº t2
     *
     * Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ: O(n), Ğ³Ğ´Ğµ n â€” ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ²ĞµÑ€ÑˆĞ¸Ğ½ Ğ² Ğ´ĞµÑ€ĞµĞ²Ğµ.
     * ĞŸĞ°Ğ¼ÑÑ‚ÑŒ: O(h), Ğ³Ğ´Ğµ h â€” Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ğ° Ğ´ĞµÑ€ĞµĞ²Ğ° (Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ Ğ½Ğ° Ñ€ĞµĞºÑƒÑ€ÑĞ¸Ğ²Ğ½Ñ‹Ğ¹ ÑÑ‚ĞµĞº).
     */
    bool isSymmetric(TreeNode* root) {
        return isMirror(root, root);
    }

private:
    /**
     * Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ·ĞµÑ€ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑĞ¸Ğ¼Ğ¼ĞµÑ‚Ñ€Ğ¸Ğ¸ Ğ´Ğ²ÑƒÑ… Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€ĞµĞ²ÑŒĞµĞ².
     */
    bool isMirror(TreeNode* t1, TreeNode* t2) {
        if (!t1 && !t2) return true;
        if (!t1 || !t2) return false;
        if (t1->val != t2->val) return false;

        return isMirror(t1->left, t2->right) && isMirror(t1->right, t2->left);
    }
};

/*
''' ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸: '''
# 1. ğŸ’ TelegramğŸ’ âƒ Ğ¥Ğ¸Ğ¶Ğ¸Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸ÑÑ‚Ğ° Ã†: https://t.me/hut_programmer_07
# 2. ğŸ’ Telegram â„–1ğŸ’  @quadd4rv1n7
# 3. ğŸ’ Telegram â„–2ğŸ’  @dupley_maxim_1999
# 4. Rutube ĞºĞ°Ğ½Ğ°Ğ»: https://rutube.ru/channel/4218729/
# 5. Plvideo ĞºĞ°Ğ½Ğ°Ğ»: https://plvideo.ru/channel/AUPv_p1r5AQJ
# 6. YouTube ĞºĞ°Ğ½Ğ°Ğ»: https://www.youtube.com/@it-coders
# 7. Ğ’Ğš Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ°: https://vk.com/science_geeks
*/