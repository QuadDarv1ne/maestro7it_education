'''
https://leetcode.com/problems/minimum-operations-to-convert-all-elements-to-zero/

LeetCode #3542 - Minimum Operations to Convert All Elements to Zero

Автор: Дуплей Максим Игоревич
ORCID: https://orcid.org/0009-0007-7605-539X
GitHub: https://github.com/QuadDarv1ne/
'''

class Solution(object):
    def minOperations(self, nums):
        """
        Решение задачи "Minimum Operations to Convert All Elements to Zero".

        Условие:
        - Дан массив неотрицательных целых чисел nums
        - За одну операцию можно выбрать подмассив [i, j] и установить все
          вхождения минимального элемента в этом подмассиве в 0
        - Найти минимальное количество операций для обнуления всех элементов

        Идея решения:
        - Используем монотонный возрастающий стек
        - Подсчитываем сколько раз значение "появляется" после уменьшения
        - Когда элемент больше предыдущего - это новая операция
        - Когда элемент равен или меньше - продолжаем предыдущую операцию

        Алгоритм:
        1. Проходим по массиву слева направо
        2. Пропускаем нули (они уже обнулены)
        3. Удаляем из стека все элементы >= текущего
        4. Если текущий элемент больше предыдущего значения (вершины стека),
           это новая операция
        5. Добавляем текущий элемент в стек

        Примеры:
        - [0, 2] -> 1 операция
        - [3, 1, 2, 1] -> 3 операции
        - [1, 2, 1, 2, 1, 2] -> 4 операции

        Сложность:
        - Время: O(n) - каждый элемент добавляется и удаляется из стека максимум 1 раз
        - Память: O(n) - в худшем случае (возрастающий массив) все элементы в стеке

        :param nums: Список неотрицательных целых чисел
        :return: Минимальное количество операций
        """
    def minOperations(self, nums):
        """
        Решение задачи "Minimum Operations to Convert All Elements to Zero".

        Условие:
        - Дан массив неотрицательных целых чисел nums
        - За одну операцию можно выбрать подмассив [i, j] и установить все
          вхождения минимального элемента в этом подмассиве в 0
        - Найти минимальное количество операций для обнуления всех элементов

        Идея решения:
        - Используем монотонный стек
        - Когда текущий элемент больше вершины стека (или стек пуст),
          это означает начало нового сегмента - нужна операция
        - Когда элемент меньше - удаляем из стека большие элементы

        Алгоритм:
        1. Проходим по массиву слева направо
        2. Если элемент > 0 и (стек пуст ИЛИ элемент > вершины стека),
           добавляем операцию
        3. Удаляем из стека все элементы >= текущего
        4. Добавляем текущий элемент в стек

        Примеры:
        - [0, 2] -> 1 операция
        - [3, 1, 2, 1] -> 3 операции
        - [1, 2, 1, 2, 1, 2] -> 4 операции

        Сложность:
        - Время: O(n) - каждый элемент добавляется и удаляется из стека максимум 1 раз
        - Память: O(n) - в худшем случае (возрастающий массив) все элементы в стеке

        :param nums: Список неотрицательных целых чисел
        :return: Минимальное количество операций
        """
        operations = 0
        stack = []
        
        for num in nums:
            # Удаляем из стека все элементы >= текущего
            # Это означает, что они будут обработаны раньше
            while stack and stack[-1] >= num:
                stack.pop()
            
            # Если текущий элемент > 0 и (стек пуст ИЛИ элемент больше вершины),
            # то начинается новый сегмент - нужна операция
            if num > 0 and (not stack or stack[-1] < num):
                operations += 1
            
            # Добавляем текущий элемент в стек
            stack.append(num)
        
        return operations

''' Полезные ссылки: '''
# 1. Telegram ❃ Хижина программиста Æ: https://t.me/hut_programmer_07  
# 2. Telegram №1 @quadd4rv1n7
# 3. Telegram №2 @dupley_maxim_1999
# 4. Rutube канал: https://rutube.ru/channel/4218729/  
# 5. Plvideo канал: https://plvideo.ru/channel/AUPv_p1r5AQJ  
# 6. YouTube канал: https://www.youtube.com/@it-coders  
# 7. ВК группа: https://vk.com/science_geeks